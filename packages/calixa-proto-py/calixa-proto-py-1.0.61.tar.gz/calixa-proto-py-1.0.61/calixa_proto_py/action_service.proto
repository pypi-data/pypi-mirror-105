syntax = "proto3";

import "entity.proto";
import "action.proto";
import "google/protobuf/struct.proto";
import "integration_source.proto";
import "common.proto";

option java_package = "io.calixa.domain.action";
option java_multiple_files = true;
option optimize_for = SPEED;
package calixa.domain.action;

message GetActionsRequest {

}

message InvokeActionRequest {
  string action_canonical_id = 1;
  string entity_canonical_id = 2;
  calixa.domain.action.ActionParams override_action_params = 3;
}

message InvokeActionResponse {
  ActionInvocationStatus action_invocation_status = 1;
  calixa.domain.action.ThirdPartyActionInvocationResponse raw_response_payload = 2;
}

service ActionService {
  rpc ListActions (GetActionsRequest) returns (stream calixa.domain.entity.Entity);
  rpc InvokeAction (InvokeActionRequest) returns (InvokeActionResponse);
}