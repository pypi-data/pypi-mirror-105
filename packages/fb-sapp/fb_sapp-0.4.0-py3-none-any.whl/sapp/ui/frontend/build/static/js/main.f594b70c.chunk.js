(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{254:function(e,t,n){e.exports=n(411)},259:function(e,t,n){},312:function(e,t,n){},399:function(e,t,n){},405:function(e,t,n){},411:function(e,t,n){"use strict";n.r(t);var a=n(52),r=n(0),l=n.n(r),c=n(19),i=n.n(c),u=n(415),o=(n(259),n(85)),s=n(30),m=n(47),d=n(48),f=n(225),E=n(73),g=n(421),h=n(424),p=n(226),_=n(418),v=n(95),b=n(142),F=n(77),O=n(182),j=n(422),y=n(423),k=n(419),S=n(412),w=n(417),C=n(425),x=n(413),$=n(414),I=n(202),T=n(426),L=n(428),N=n(429),R=n(430),A=n(431),q=n(432),D=n(433),M=(n(227),_.a.Text,{issues:{kind:"Explanation for kind",distance:"Explanation for distance",name:"Explanation for name",feature:"Explanation for feature",likelyNew:"Explanation for new"},filter:{codes:"Only show issues with codes",paths:"Only show issues in files at a given path",callables:"Only show issues that originate in a specific callable",features:"Only show issues with traces whose features match these conditions",traceLengths:"Only show issues with traces of lenght"},trace:{fromSource:"Trace from the issue root to the source where data originates",root:"Where the trace from the source meets the trace to the sink",toSink:"Trace from the issue root to the data sink",frameSelectionPrecondition:"Explore alternative traces leading to the same sink",frameSelectionPostcondition:"Explore alternative traces from the same source"},source:{toNextFrame:"Flow to next frame",tito:"Flow through function"}});n(312);function J(){var e=Object(a.a)(["\n    mutation DeleteFilter($name: String!) {\n      delete_filter(input: {name: $name}) {\n        clientMutationId\n      }\n    }\n  "]);return J=function(){return e},e}function z(){var e=Object(a.a)(["\n    query Filters {\n      filters {\n        edges {\n          node {\n            name\n            description\n            json\n          }\n        }\n      }\n    }\n  "]);return z=function(){return e},e}function V(){var e=Object(a.a)(["\n    mutation SaveFilter($name: String!, $description: String, $json: String!) {\n      save_filter(\n        input: {name: $name, description: $description, json: $json}\n      ) {\n        node {\n          name\n          description\n          json\n        }\n      }\n    }\n  "]);return V=function(){return e},e}function B(){var e=Object(a.a)(["\n    query Features {\n      features {\n        edges {\n          node {\n            feature\n          }\n        }\n      }\n    }\n  "]);return B=function(){return e},e}function P(){var e=Object(a.a)(["\n    query Callables {\n      callables {\n        edges {\n          node {\n            callable\n          }\n        }\n      }\n    }\n  "]);return P=function(){return e},e}function U(){var e=Object(a.a)(["\n    query Paths {\n      paths {\n        edges {\n          node {\n            path\n          }\n        }\n      }\n    }\n  "]);return U=function(){return e},e}function W(){var e=Object(a.a)(["\n    query Codes {\n      codes {\n        edges {\n          node {\n            code\n          }\n        }\n      }\n    }\n  "]);return W=function(){return e},e}var H=_.a.Text,Z={features:[{mode:"all of",features:[]}]},G=[8,8],K=function(e,t){return Object.keys(e).forEach((function(t){return void 0===e[t]?delete e[t]:{}})),Object.keys(t).forEach((function(e){return void 0===t[e]?delete t[e]:{}})),JSON.stringify(e)===JSON.stringify(t)},Q=function(e){var t=e.label.split(/(?=[A-Z])/).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{title:M.filter[e.label]},l.a.createElement(H,{type:"secondary"}," ",t)))},X=function(e){var t,n=Object(d.a)(W()),a=Object(f.a)(n).data,r=((null===a||void 0===a||null===(t=a.codes)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.code}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q,{label:"codes"}),l.a.createElement(b.a,{gutter:G},l.a.createElement(F.a,{span:22},l.a.createElement(O.a,{mode:"multiple",value:e.currentFilter.codes,options:r.map((function(e){return{value:e}})),style:{width:"100%"},onChange:function(t){return e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{codes:t}))}}))))},Y=function(e){var t,n=Object(d.a)(U()),a=Object(f.a)(n).data,r=((null===a||void 0===a||null===(t=a.paths)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.path}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q,{label:"paths"}),l.a.createElement(b.a,{gutter:G},l.a.createElement(F.a,{span:22},l.a.createElement(O.a,{mode:"multiple",value:e.currentFilter.paths,options:r.map((function(e){return{value:e}})),style:{width:"100%"},onChange:function(t){return e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{paths:t}))}}))))},ee=function(e){var t,n=Object(r.useState)("is"),a=Object(m.a)(n,2),c=a[0],i=a[1],u=Object(r.useState)(null),o=Object(m.a)(u,2),E=o[0],g=o[1],h=Object(d.a)(P()),p=Object(f.a)(h).data,_=((null===p||void 0===p||null===(t=p.callables)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.callable}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q,{label:"callables"}),l.a.createElement(b.a,{gutter:G},l.a.createElement(F.a,{span:6},l.a.createElement(O.a,{options:[{value:"is"},{value:"matches"}],value:c,onChange:i,style:{width:"100%"}})),l.a.createElement(F.a,{span:16},"is"===c?l.a.createElement(O.a,{mode:"multiple",value:e.currentFilter.callables,options:_.map((function(e){return{value:e}})),style:{width:"100%"},onChange:function(t){return e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{callables:t}))}}):l.a.createElement(j.a,{placeholder:"regular experssion",style:{width:"100%"},value:E,onChange:function(t){var n=t.target.value;g(n);var a=_.filter((function(e){return e.match(n)}));e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{callables:a}))},suffix:l.a.createElement(v.a,{title:(e.currentFilter.callables||[]).join("\n"),placement:"bottom"},l.a.createElement(H,{type:"secondary",size:"small"},(e.currentFilter.callables||[]).length))}))))},te=function(e){var t,n=Object(d.a)(B()),a=Object(f.a)(n).data,r=((null===a||void 0===a||null===(t=a.features)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.feature})),c=e.currentFilter.features||[];return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q,{label:"features"}),c.map((function(t,n){var a=function(a){var r=Object(o.a)(c);r[n]=Object(s.a)(Object(s.a)({},t),a),e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{features:r}))};return l.a.createElement(b.a,{gutter:G},l.a.createElement(F.a,{span:6},l.a.createElement(O.a,{options:[{value:"all of"},{value:"any of"},{value:"none of"}],value:t.mode,style:{width:"100%"},onChange:function(e){return a({mode:e})}})),l.a.createElement(F.a,{span:16},l.a.createElement(O.a,{mode:"multiple",options:r.map((function(e){return{value:e}})),value:t.features,onChange:function(e){return a({features:e})},style:{width:"100%"}})),l.a.createElement(F.a,{span:2},l.a.createElement(E.a,{type:"text",onClick:function(){e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{features:c.filter((function(e,t){return n!==t}))}))},disabled:c.length<2,icon:l.a.createElement(L.a,null)})))})),l.a.createElement(b.a,{gutter:G},l.a.createElement(F.a,{span:22},l.a.createElement(E.a,{type:"dashed",onClick:function(){e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{features:[].concat(Object(o.a)(c),[{mode:"all of",features:[]}])}))},icon:l.a.createElement(N.a,null),style:{width:"100%",marginTop:5},block:!0}," ","Add Condition"))))},ne=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q,{label:"status"}),l.a.createElement("div",null,l.a.createElement(y.a,{checked:e.currentFilter.is_new_issue,onChange:function(t){return e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{is_new_issue:!!t.target.checked||void 0}))}})," ","only show likely new issues"))},ae=function(e){var t="sources"===e.kind?e.currentFilter.traceLengthFromSources:e.currentFilter.traceLengthToSinks;return l.a.createElement(b.a,{gutter:G},l.a.createElement(F.a,{span:5,style:{paddingTop:10}},l.a.createElement(H,{type:"secondary"},"sources"===e.kind?"From Sources":"To Sinks")),l.a.createElement(F.a,{span:17},l.a.createElement(k.a,{range:!0,min:0,max:31,defaultValue:[0,31],marks:{0:"0",31:"unlimited"},tipFormatter:function(e){return 31===e?"unlimited":e},value:t,onChange:function(t){"sources"===e.kind?e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{traceLengthFromSources:t})):e.setCurrentFilter(Object(s.a)(Object(s.a)({},e.currentFilter),{},{traceLengthToSinks:t}))}})))},re=function(e){var t=Object(r.useState)(ie()||Z),n=Object(m.a)(t,2),a=n[0],c=n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(X,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(Y,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(ee,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(te,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(S.a,null),l.a.createElement(ne,{currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(S.a,null),l.a.createElement(Q,{label:"traceLengths"}),l.a.createElement(ae,{kind:"sources",currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(ae,{kind:"sinks",currentFilter:e.currentFilter,setCurrentFilter:e.setCurrentFilter}),l.a.createElement(S.a,null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement(E.a,{onClick:function(){e.setCurrentFilter(Z)},disabled:K(e.currentFilter,Z)},"Clear")," ",l.a.createElement(E.a,{type:"primary",onClick:function(){c(e.currentFilter),e.refetch(ue(e.currentFilter)),e.setVisible(!1)},loading:e.refetching,disabled:K(e.currentFilter,a)},"Apply")))},le=function(e){var t=w.a.useForm(),n=Object(m.a)(t,1)[0],a=Object(d.a)(V()),r=Object(p.a)(a,{onCompleted:function(t){var n=Object(s.a)(Object(s.a)({},t.save_filter.node),JSON.parse(t.save_filter.node.json));e.onSave(n)}}),c=Object(m.a)(r,2),i=c[0],u=c[1].error;if(u)return l.a.createElement(C.a,{type:"error"},u.toString());return l.a.createElement(g.a,{title:"Save Filters...",visible:e.visible,onOk:function(){var t=n.getFieldsValue();i({variables:{name:t.name,description:t.description,json:JSON.stringify(e.currentFilter)}}),e.hide()},okText:"Save",onCancel:e.hide,zIndex:2e3},l.a.createElement(w.a,{layout:"vertical",form:n,autoComplete:"off"},l.a.createElement(w.a.Item,{label:"Name",name:"name"},l.a.createElement(j.a,null)),l.a.createElement(w.a.Item,{label:"Description",name:"description"},l.a.createElement(j.a,null))))},ce=function(e){var t,n,a,c=Object(r.useState)(null),i=Object(m.a)(c,2),u=i[0],o=i[1],h=Object(r.useState)(!1),_=Object(m.a)(h,2),v=_[0],O=_[1],y=Object(r.useState)(!1),k=Object(m.a)(y,2),S=k[0],w=k[1],T=Object(d.a)(z()),L=Object(f.a)(T),N=L.loading,D=L.error,M=L.data,V=L.refetch,B=Object(d.a)(J()),P=Object(p.a)(B,{onCompleted:V}),U=Object(m.a)(P,2),W=U[0],G=U[1].error;if(D)return l.a.createElement(C.a,{type:"error"},D.toString());if(G)return l.a.createElement(C.a,{type:"error"},G.toString());var K=N?[]:M.filters.edges.map((function(e){var t=JSON.parse(e.node.json);return Object(s.a)(Object(s.a)({},e.node),t)})),Q=K.filter((function(e){var t,n;return null===u||(e.name.toLowerCase().includes(u.toLowerCase())||(null===(t=e.description)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(u.toLowerCase())))})).map((function(e){return{value:e.name,label:l.a.createElement("div",null,e.name,l.a.createElement("br",null),l.a.createElement(H,{type:"secondary"},e.description))}})),X={};K.forEach((function(e){return X[e.name]=e}));return l.a.createElement(b.a,{justify:"space-between"},l.a.createElement(F.a,{span:22},l.a.createElement(x.a,{style:{width:"100%"},options:Q,onSelect:function(t){o(null),e.setCurrentFilter(X[t])},onSearch:o,value:u||(null===(t=e.currentFilter)||void 0===t?void 0:t.name)||null},l.a.createElement(j.a.Search,{placeholder:"saved filter"}))),l.a.createElement(F.a,null,l.a.createElement(g.a,{visible:S,okText:"Delete",onOk:function(){W({variables:{name:e.currentFilter.name}}),w(!1),e.setCurrentFilter(Z)},onCancel:function(){return w(!1)},zIndex:2e3},"Do you really want to delete"," ",l.a.createElement(H,{keyboard:!0},e.currentFilter.name)),l.a.createElement(le,{currentFilter:e.currentFilter,visible:v,hide:function(){return O(!1)},onSave:function(t){e.setCurrentFilter(t),V()}}),l.a.createElement($.a,{overlay:l.a.createElement(I.a,null,l.a.createElement(I.a.Item,{disabled:0===Object.keys(e.currentFilter).length||void 0!==(null===(n=e.currentFilter)||void 0===n?void 0:n.name),onClick:function(){return O(!0)},icon:l.a.createElement(R.a,null)},"Save..."),l.a.createElement(I.a.Item,{disabled:void 0===(null===(a=e.currentFilter)||void 0===a?void 0:a.name),onClick:function(){return w(!0)},icon:l.a.createElement(A.a,null)},"Delete...")),placement:"bottomRight"},l.a.createElement(E.a,{type:"text",icon:l.a.createElement(q.a,null),ghost:!0}))))};function ie(){var e=window.sessionStorage.getItem("filter");return void 0!==e?JSON.parse(e):null}function ue(e){var t=function(e){if(0!==e&&31!==e)return e};return Object(s.a)(Object(s.a)({},e),{},{min_trace_length_to_sources:t((e.traceLengthFromSources||[])[0]),max_trace_length_to_sources:t((e.traceLengthFromSources||[])[1]),min_trace_length_to_sinks:t((e.traceLengthToSinks||[])[0]),max_trace_length_to_sinks:t((e.traceLengthToSinks||[])[1])})}var oe=function(e){var t=ie()||Z,n=Object(r.useState)(!1),a=Object(m.a)(n,2),c=a[0],i=a[1],u=Object(r.useState)(t),o=Object(m.a)(u,2),s=o[0],d=o[1];Object(r.useEffect)((function(){window.sessionStorage.setItem("filter",JSON.stringify(s))}),[s]);var f=l.a.createElement("div",{style:{width:"500px"}},l.a.createElement(ce,{currentFilter:s,setCurrentFilter:d}),l.a.createElement(S.a,null),l.a.createElement(re,{refetch:e.refetch,refetching:e.refetching,setVisible:i,currentFilter:s,setCurrentFilter:d}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{textAlign:"right",margin:"10px 0 -40px 0"}},l.a.createElement(T.a,{visible:c||e.refetching,content:f,placement:"bottomRight",onClick:function(){return i(!c)}},l.a.createElement(E.a,{icon:l.a.createElement(D.a,null),type:K(t,Z)?null:"primary"},"Filter"))))},se=n(427),me=n(416),de=n(420),fe=n(437),Ee=n(438),ge=n(439),he=n(440),pe=n(434),_e=n(435),ve=n(436),be=n(241);n(399);function Fe(){var e=Object(a.a)(["\n    query Issue($path: String) {\n      file(path: $path) {\n        edges {\n          node {\n            contents\n            editor_link\n          }\n        }\n      }\n    }\n  "]);return Fe=function(){return e},e}n(400),n(401),n(402);var Oe=_.a.Text;function je(e,t){return void 0===e||null===e||""===e?[]:e.split(";").map((function(e){var n=e.split("|").map((function(e){return parseInt(e)}));if(3!==n.length)throw new Error("Invalid Location: ".concat(e));var a=n[0]-1,r=n[1],l=n[2];if(l<r){var c=[l,r];r=c[0],l=c[1]}return function(e,t){var n=t[e.from.line].slice(e.from.ch,e.to.ch),a=n.search(/\S/),r=n.length-n.trimEnd().length;return{from:{line:e.from.line,ch:e.from.ch+a},to:{line:e.to.line,ch:e.to.ch-r}}}({from:{line:a,ch:r-1},to:{line:a,ch:l}},t)}))}var ye=function(e){var t,n,a=null,r=Object(d.a)(Fe()),c=Object(f.a)(r,{variables:{path:e.path}}),i=c.loading,u=c.error,s=c.data,m=null===s||void 0===s||null===(t=s.file)||void 0===t||null===(n=t.edges[0])||void 0===n?void 0:n.node,g=l.a.createElement("div",null);if(u)g=l.a.createElement(v.a,{title:u.toString()},l.a.createElement(C.a,{message:"No file found for ".concat(e.path),type:"info"}));else if(i)g=l.a.createElement("div",{style:{height:"12em",textAlign:"center",paddingTop:"5em"}},l.a.createElement(Oe,{type:"secondary"},l.a.createElement(pe.a,null),l.a.createElement("br",null),"Loading ",e.path,"..."));else{var h=m.contents,p=h.split("\n"),_=je(e.location,p)[0];a=_.from.line;var b=je(e.titos,p),F=[].concat(Object(o.a)(b),[_]).sort((function(e,t){return e.from.line-t.from.line})),O=function(e,t){if(0===e.length)return{totalLines:10,folds:[]};for(var n=Math.max(e[e.length-1].from.line-e[0].from.line+3,10),a=[],r=0;r<e.length-1;r++){var l=e[r+1].from.line-e[r].from.line,c=l-2;if(l>10){var i=e[r].from.line+1,u=i+c;a.push({line:i,range:{from:{line:i,ch:t[i].length},to:{line:u,ch:t[u].length}}}),n=n-c+4}}return{totalLines:n,folds:a}}(F,p),j=null;g=l.a.createElement(be.Controlled,{value:h,options:{lineNumbers:!0,readOnly:"nocursor"},editorDidMount:function(e){(j=e).markText(_.from,_.to,{className:"Source-selection",attributes:{title:M.source.toNextFrame}}),b.forEach((function(t){e.markText(t.from,t.to,{className:"Source-tito",attributes:{title:M.source.tito}})})),O.folds.forEach((function(t){e.foldCode(t.line,{rangeFinder:function(e){return t.range},widget:"Hiding ".concat(t.range.to.line-t.line," lines. Click to expand...")})}));var t=j.defaultTextHeight();j.setSize(null,O.totalLines*t);var n=j.heightAtLine(F[F.length-1].from.line-O.totalLines+2,"local");j.scrollTo(0,n-6*O.folds.length*t)}})}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{class:"source-menu"},l.a.createElement(v.a,{title:"Open in Editor",placement:"bottom"},l.a.createElement(E.a,{size:"small",icon:l.a.createElement(_e.a,null),type:"text",onClick:function(){window.location=m.editor_link},disabled:i||u||!Boolean(m.editor_link)})),l.a.createElement(v.a,{title:"Reset Scroll",placement:"bottom"},l.a.createElement(E.a,{size:"small",icon:l.a.createElement(ve.a,null),type:"text",onClick:function(){return j&&j.scrollIntoView({line:a||0,ch:0})},disabled:i||u}))),l.a.createElement("div",{class:"source"},g))},ke=_.a.Text;function Se(e){var t=e.port,n="",a=t.match(/(\[.*\])+/);a&&(t=t.slice(0,t.length-a[1].length),a=a[1].split("]").filter((function(e){return""!==e})).map((function(e){return e.slice(1)})).map((function(e){return l.a.createElement(ke,{code:!0},e)})),n=l.a.createElement(l.a.Fragment,null," accessing ",a)),"result"===t&&(t="returns");var r=t.match(/formal\((.*)\)/);return r&&(t=l.a.createElement(l.a.Fragment,null,"into parameter ",l.a.createElement(ke,{code:!0},r[1]))),l.a.createElement(ke,{type:"secondary"},t,n)}function we(e){switch(e){case"I":return"int";case"V":return"void";case"Z":return"boolean"}var t=e.split("/");return t[t.length-1].slice(0,-1)}function Ce(e){var t=e.match(/(.*);\.(.*):\((.*)\)(.*)/);if(null==t)return e;var n=we(t[1]),a=t[2],r=we(t[4]),l=function e(t){if(0==t.length)return[];if(t.startsWith("L")){var n=t.split(";");return[we(n[0]+";")].concat(e(n.slice(1).join(";")))}return[we(t[0])].concat(e(t.slice(1)))}(t[3]).join(", ");return"".concat(r," ").concat(n,".").concat(a,"(").concat(l,")")}function xe(e){var t=e.separator||".",n=e.threshold||50,a=e.input;if(a.includes(";")&&(a=Ce(a)),a.length>n){var r=a.split(t);r.length>3&&(a="".concat(r[0]).concat(t,"[...]").concat(t).concat(r[r.length-2],".").concat(r[r.length-1]))}return l.a.createElement(v.a,{title:e.input},l.a.createElement(ke,{code:e.code||!1,style:{wordBreak:"break-all"}},a))}var $e=_.a.Text,Ie=_.a.Link;function Te(e){var t=Object(r.useState)(!1),n=Object(m.a)(t,2),a=n[0],c=n[1],i=e.items;if(i.length<=e.maximumElementsToShow)return l.a.createElement(l.a.Fragment,null,i.map((function(e){return l.a.createElement(se.a,null,e)})));var u=i.slice(0,a?i.length:e.maximumElementsToShow),o=i.length-u.length;return l.a.createElement(l.a.Fragment,null,u.map((function(e){return l.a.createElement(se.a,null,e)})),l.a.createElement(se.a,{onClick:function(){return c(!a)},icon:a?l.a.createElement(L.a,null):l.a.createElement(fe.a,null)},a?"Show fewer...":"Show ".concat(o," more...")))}function Le(e){return l.a.createElement(v.a,{mouseEnterDelay:1,title:e.content,placement:e.placement},e.children)}function Ne(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Le,{content:M.issues.kind},e.kinds.map((function(t){return l.a.createElement(se.a,{color:"sources"===e.kind?"green":"red"},t)})))," ","at"," ",l.a.createElement(Le,{content:M.issues.distance},l.a.createElement($e,{underline:!0},"minimum distance ",e.distance,".")),l.a.createElement("br",null),l.a.createElement(Le,{placement:"right",content:M.issues.name},l.a.createElement("div",{style:{marginTop:".5em"}},l.a.createElement(Te,{items:e.names,maximumElementsToShow:5}))))}function Re(e){var t=[8,8],n=function(e){return l.a.createElement(F.a,{span:4,style:{textAlign:"right"}},l.a.createElement($e,{type:"secondary"},e.children))},a=function(e){return l.a.createElement(F.a,{span:20},l.a.createElement($e,{type:"secondary"},e.children))};return l.a.createElement(me.a,{size:"small",title:l.a.createElement(l.a.Fragment,null,l.a.createElement(Ee.a,{style:{marginRight:".5em"}}),e.hideTitle?"Issue":l.a.createElement(l.a.Fragment,null,"Issue ",e.issue.issue_id)),extra:e.hideTitle?null:l.a.createElement(Ie,{href:"/run/".concat(e.run_id,"/issue/").concat(e.issue.issue_instance_id)},"Traces")},l.a.createElement(b.a,{gutter:t},l.a.createElement(n,null,"Code"),l.a.createElement(a,null,l.a.createElement($e,{code:!0},e.issue.code))),l.a.createElement(b.a,{gutter:t},l.a.createElement(n,null,"Description"),l.a.createElement(a,null,e.issue.message)),e.issue.is_new_issue?l.a.createElement(b.a,{gutter:t},l.a.createElement(n,null,"Status"),l.a.createElement(a,null,l.a.createElement(v.a,{title:M.issues.likelyNew},l.a.createElement(se.a,{icon:l.a.createElement(ge.a,null),color:"warning"},"likely new")))):null,l.a.createElement(b.a,{gutter:t},l.a.createElement(n,null,"Callable"),l.a.createElement(a,null,l.a.createElement(xe,{input:e.issue.callable,code:!0}))),l.a.createElement(b.a,{gutter:t},l.a.createElement(n,null,"Location"),l.a.createElement(a,null,l.a.createElement(v.a,{title:"Click to preview"},l.a.createElement(T.a,{title:"Source preview",content:l.a.createElement("div",{style:{width:"600px"}},l.a.createElement(ye,{path:e.issue.filename,location:e.issue.location})),placement:"bottomRight",trigger:"click"},l.a.createElement(he.a,null)))," ",l.a.createElement(xe,{input:e.issue.filename,code:!0,separator:"/"}))),l.a.createElement(b.a,{gutter:t},l.a.createElement(n,null,"Sources"),l.a.createElement(a,null,l.a.createElement(Ne,{kind:"sources",kinds:e.issue.sources,names:e.issue.source_names,distance:e.issue.min_trace_length_to_sources}))),l.a.createElement(b.a,{gutter:t},l.a.createElement(n,null,"Sinks"),l.a.createElement(a,null,l.a.createElement(Ne,{kind:"sinks",kinds:e.issue.sinks,names:e.issue.sink_names,distance:e.issue.min_trace_length_to_sinks}))),l.a.createElement(b.a,{gutter:t},l.a.createElement(n,null,"Features"),l.a.createElement(a,null,l.a.createElement(Le,{content:M.issues.feature,placement:"left"},l.a.createElement("div",null,l.a.createElement(Te,{items:e.issue.features,maximumElementsToShow:5}))))))}function Ae(){return l.a.createElement(me.a,null,l.a.createElement(de.a,{active:!0,paragraph:{rows:10}}))}function qe(){var e=Object(a.a)(["\n  query Issue(\n    $after: String\n    $run_id: Int!\n    $codes: [Int]\n    $paths: [String]\n    $callables: [String]\n    $features: [FeatureCondition]\n    $min_trace_length_to_sinks: Int\n    $max_trace_length_to_sinks: Int\n    $min_trace_length_to_sources: Int\n    $max_trace_length_to_sources: Int\n    $is_new_issue: Boolean\n  ) {\n    issues(\n      first: ","\n      after: $after\n      run_id: $run_id\n      codes: $codes\n      paths: $paths\n      callables: $callables\n      features: $features\n      min_trace_length_to_sinks: $min_trace_length_to_sinks\n      max_trace_length_to_sinks: $max_trace_length_to_sinks\n      min_trace_length_to_sources: $min_trace_length_to_sources\n      max_trace_length_to_sources: $max_trace_length_to_sources\n      is_new_issue: $is_new_issue\n    ) {\n      edges {\n        node {\n          issue_id\n          issue_instance_id\n          code\n          message\n          callable\n          filename\n          location\n          sources\n          source_names\n          sinks\n          sink_names\n          features\n          is_new_issue\n          min_trace_length_to_sources\n          min_trace_length_to_sinks\n        }\n      }\n      pageInfo {\n        endCursor\n      }\n    }\n  }\n"]);return qe=function(){return e},e}function De(e){return l.a.createElement(l.a.Fragment,null,e.issues.map((function(t){var n=t.node;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Re,{run_id:e.run_id,issue:n}),l.a.createElement("br",null))})),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(E.a,{type:"dashed",disabled:!e.canFetchMore,onClick:e.onFetchMore},"Load More...")))}var Me=Object(d.a)(qe(),20),Je=function(e){var t=e.match.params.run_id,n=ie(),a=n?ue(n):null,c=Object(r.useState)(null),i=Object(m.a)(c,2),u=i[0],d=i[1],E=Object(r.useState)(!1),p=Object(m.a)(E,2),_=p[0],v=p[1],b=Object(r.useState)(null),F=Object(m.a)(b,2),O=F[0],j=F[1],y=Object(f.a)(Me,{variables:Object(s.a)(Object(s.a)({},a),{},{run_id:t,offset:0})}),k=y.loading,S=y.error,w=y.data,C=y.fetchMore,x=y.refetch,$=Object(r.useState)([]),I=Object(m.a)($,2),T=I[0],L=I[1],N=Object(r.useState)(!0),R=Object(m.a)(N,2),A=R[0],q=R[1];Object(r.useEffect)((function(){w!==u&&v(!1)}),[w,u,d]);var D=null;if(S)D=l.a.createElement(g.a,{title:"Error",visible:!0,footer:null},l.a.createElement("p",null,S.toString()));else if(k)D=l.a.createElement(Ae,null);else{var M=w.issues.edges||[];D=l.a.createElement(De,{run_id:t,issues:[].concat(Object(o.a)(M),Object(o.a)(T)),onFetchMore:function(){C({variables:{after:O||w.issues.pageInfo.endCursor}}).then((function(e){var t=e.data.issues;j(t.pageInfo.endCursor),L([].concat(Object(o.a)(T),Object(o.a)(t.edges))),q(20==t.edges.length)}))},canFetchMore:M.length>=20&&A})}return l.a.createElement(l.a.Fragment,null,l.a.createElement(oe,{refetch:function(e){d(w),v(!0),x(e)},refetching:_}),l.a.createElement(h.a,{style:{margin:"16px 0"}},l.a.createElement(h.a.Item,{href:"/runs"},"Runs"),l.a.createElement(h.a.Item,null,"Run ",t)),D)},ze=n(45),Ve=n(441),Be=n(442),Pe=n(443),Ue=n(444),We=n(445),He=n(446);function Ze(){var e=Object(a.a)(["\n    query Issue($run_id: Int!, $issue_instance_id: Int!) {\n      issues(run_id: $run_id, issue_instance_id: $issue_instance_id) {\n        edges {\n          node {\n            issue_id\n            issue_instance_id\n            code\n            message\n            callable\n            filename\n            location\n            sources\n            source_names\n            sinks\n            sink_names\n            features\n            min_trace_length_to_sources\n            min_trace_length_to_sinks\n          }\n        }\n      }\n    }\n  "]);return Ze=function(){return e},e}function Ge(){var e=Object(a.a)(["\n    query InitialTraceFrame($issue_instance_id: Int!, $kind: String!) {\n      initial_trace_frames(issue_instance_id: $issue_instance_id, kind: $kind) {\n        edges {\n          node {\n            frame_id\n            callee\n            callee_id\n            filename\n            callee_location\n            trace_length\n            is_leaf\n          }\n        }\n      }\n    }\n  "]);return Ge=function(){return e},e}function Ke(){var e=Object(a.a)(["\n    query NextTraceFrames(\n      $issue_instance_id: Int!\n      $frame_id: Int!\n      $kind: String!\n    ) {\n      next_trace_frames(\n        issue_instance_id: $issue_instance_id\n        frame_id: $frame_id\n        kind: $kind\n      ) {\n        edges {\n          node {\n            frame_id\n            callee\n            callee_port\n            callee_id\n            filename\n            callee_location\n            trace_length\n            is_leaf\n            titos\n          }\n        }\n      }\n    }\n  "]);return Ke=function(){return e},e}n(405);var Qe=_.a.Text,Xe=O.a.Option;function Ye(e){if(e.loading)return l.a.createElement(l.a.Fragment,null,l.a.createElement(me.a,null,l.a.createElement(de.a,{active:!0})),l.a.createElement("br",null));var t=e.data.issues.edges[0].node;return l.a.createElement(l.a.Fragment,null,l.a.createElement(me.a,null,l.a.createElement(Qe,null,l.a.createElement(Ve.a,{style:{marginRight:".5em"}}),"Source and sink traces meet at"," ",l.a.createElement(xe,{input:t.callable,code:!0}),"."),l.a.createElement(ye,{path:t.filename,location:t.location})),l.a.createElement("br",null))}function et(e){var t=Object(r.useState)(0===e.frames.length?null:0),n=Object(m.a)(t,2),a=n[0],c=n[1];if(0===e.frames.length)return l.a.createElement("div",{style:{width:"100%",textAlign:"center",padding:"2em"}},l.a.createElement(Qe,{type:"warning"},"Missing Trace Frame"));var i=l.a.createElement(ye,{path:e.frames[0].filename,location:e.frames[0].callee_location,titos:e.frames[0].titos}),u="postcondition"===e.kind,o=null!==a&&e.frames[a].is_leaf,s=null;if(!o){s=l.a.createElement("div",{class:"Trace-select"},l.a.createElement(O.a,{defaultValue:a,style:{width:"100%"},onChange:c,suffixIcon:null,disabled:e.frames.length<2},e.frames.map((function(e,t){return l.a.createElement(Xe,{value:t},function(e){var t=u?"source":"sink",n=l.a.createElement(Be.a,null);return 1===e.trace_length&&(n=u?l.a.createElement(Pe.a,null):l.a.createElement(Ue.a,null)),l.a.createElement(v.a,{title:"Distance to ".concat(t)},l.a.createElement(Qe,{type:"secondary"},n," ",e.trace_length," "))}(e),l.a.createElement(xe,{input:e.callee,code:!0,threshold:30})," ",l.a.createElement(Se,{port:e.callee_port||""}))}))))}var d=null;return null===a||o||(d=l.a.createElement(tt,{issue_instance_id:e.issue_instance_id,frame:e.frames[a],kind:e.kind})),l.a.createElement(l.a.Fragment,null,u?l.a.createElement(l.a.Fragment,null,d,s):null,i,u?null:l.a.createElement(l.a.Fragment,null,s,d))}function tt(e){var t,n=Object(d.a)(Ke()),a=Object(f.a)(n,{variables:{issue_instance_id:e.issue_instance_id,frame_id:e.frame.frame_id,kind:e.kind}}),r=a.loading,c=a.error,i=a.data,u=((null===i||void 0===i||null===(t=i.next_trace_frames)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node}));return r?l.a.createElement(de.a,{active:!0}):c?l.a.createElement(C.a,{type:"error"},c.toString()):l.a.createElement(et,{issue_instance_id:e.issue_instance_id,frames:u,kind:e.kind})}function nt(e){var t,n=Object(d.a)(Ge()),a=Object(f.a)(n,{variables:{issue_instance_id:e.issue_instance_id,kind:e.kind}}),r=a.loading,c=a.error,i=a.data,u=((null===i||void 0===i||null===(t=i.initial_trace_frames)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node})),o="postcondition"===e.kind,s=null;s=r?l.a.createElement(de.a,{active:!0}):c?l.a.createElement(C.a,{type:"error"},c.toString()):l.a.createElement(et,{issue_instance_id:e.issue_instance_id,frames:u,kind:e.kind});var m=null,E=e.issue;return null!=E&&(m=o?l.a.createElement(l.a.Fragment,null,l.a.createElement(Qe,null,l.a.createElement(We.a,{style:{marginRight:".5em"}}),"Data of ",1===E.sources.length?"type ":"types ",E.sources.map((function(e){return l.a.createElement(se.a,{color:"green"},e)})),"flowing ",l.a.createElement("i",null,"up to")," ",l.a.createElement(xe,{input:E.callable,code:!0}),"."),l.a.createElement(S.a,{plain:!0},"Traces")):l.a.createElement(l.a.Fragment,null,l.a.createElement(Qe,null,l.a.createElement(He.a,{style:{marginRight:".5em"}}),"Data of ",1===E.sources.length?"type ":"types ",E.sources.map((function(e){return l.a.createElement(se.a,{color:"green"},e)})),"flowing ",l.a.createElement("i",null,"from")," ",l.a.createElement(xe,{input:E.callable,code:!0})," ","into sinks of ",1===E.sinks.length?"type ":"types ",E.sinks.map((function(e){return l.a.createElement(se.a,{color:"red"},e)})),"."),l.a.createElement(S.a,{plain:!0},"Traces"))),l.a.createElement(l.a.Fragment,null,l.a.createElement(me.a,null,m,s),l.a.createElement("br",null))}var at=Object(ze.e)((function(e){var t,n,a=e.match.params.run_id,r=e.match.params.issue_instance_id,c=Object(d.a)(Ze()),i=Object(f.a)(c,{variables:{run_id:a,issue_instance_id:r}}),u=i.loading,o=i.error,s=i.data,m=(null===s||void 0===s||null===(t=s.issues)||void 0===t||null===(n=t.edges[0])||void 0===n?void 0:n.node)||null,E=null;return E=o?l.a.createElement(g.a,{title:"Error",visible:!0,footer:null},l.a.createElement("p",null,o.toString())):l.a.createElement(l.a.Fragment,null,u?l.a.createElement(Ae,null):l.a.createElement(Re,{run_id:a,issue:m,hideTitle:!0}),l.a.createElement("br",null),l.a.createElement(nt,{issue_instance_id:r,issue:m,kind:"postcondition"}),l.a.createElement(Ye,{data:s,loading:u}),l.a.createElement(nt,{issue_instance_id:r,issue:m,kind:"precondition"})),l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{style:{margin:"16px 0"}},l.a.createElement(h.a.Item,{href:"/runs"},"Runs"),l.a.createElement(h.a.Item,{href:"/run/".concat(a)},"Run ",a),l.a.createElement(h.a.Item,null,"Issue ",(null===m||void 0===m?void 0:m.issue_id)||"")),E)})),rt=n(447);function lt(){var e=Object(a.a)(["\n    query Run {\n      runs {\n        edges {\n          node {\n            run_id\n            date\n          }\n        }\n      }\n    }\n  "]);return lt=function(){return e},e}var ct=_.a.Text,it=_.a.Link;function ut(e){var t=function(e){return l.a.createElement(F.a,{span:4,style:{textAlign:"right"}},l.a.createElement(ct,{type:"secondary"},e.children))},n=function(e){return l.a.createElement(F.a,{span:20},l.a.createElement(ct,{type:"secondary"},e.children))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(me.a,{size:"small",title:l.a.createElement(l.a.Fragment,null,l.a.createElement(rt.a,{style:{marginRight:".5em"}}),"Run ",e.run.run_id),extra:l.a.createElement(it,{href:"/run/".concat(e.run.run_id)},"Issues")},l.a.createElement(b.a,{gutter:[8,8]},l.a.createElement(t,null,"Date"),l.a.createElement(n,null,l.a.createElement(ct,{code:!0},e.run.date)))),l.a.createElement("br",null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ot=n(243),st=n(162),mt=n(163),dt=n(224),ft=n(448);n(409);function Et(){var e=Object(a.a)(["\n    query Run {\n      runs {\n        edges {\n          node {\n            run_id\n            date\n          }\n        }\n      }\n    }\n  "]);return Et=function(){return e},e}var gt=u.a.Header,ht=u.a.Content,pt=u.a.Footer,_t=_.a.Text,vt=new st.a({uri:"/graphql",cache:new mt.a});var bt=l.a.createElement(dt.a,{client:vt},l.a.createElement(ot.a,null,l.a.createElement(u.a,null,l.a.createElement(gt,{class:"header"},l.a.createElement("div",{class:"logo"},l.a.createElement(ft.a,{style:{marginRight:".2em"}}),"SAPP")),l.a.createElement(ht,null,l.a.createElement("div",{class:"main"},l.a.createElement(ze.a,{exact:!0,path:"/",component:function(){var e=Object(d.a)(Et()),t=Object(f.a)(e,{onCompleted:function(e){var t=-1;e.runs.edges.forEach((function(e){e.node.run_id>t&&(t=e.node.run_id)})),-1===t&&g.a.error({title:"Unable to load run data",content:"No completed run found"}),window.location="/run/".concat(t)}}),n=t.loading,a=t.error;return a&&g.a.error({title:"Unable to load run data",content:a.toString()}),n?l.a.createElement(me.a,null,l.a.createElement("div",{style:{height:"12em",textAlign:"center",paddingTop:"5em"}},l.a.createElement(_t,{type:"secondary"},l.a.createElement(pe.a,null),l.a.createElement("br",null),"Loading latest run..."))):null}}),l.a.createElement(ze.a,{exact:!0,path:"/runs/",component:function(e){var t=Object(d.a)(lt()),n=Object(f.a)(t),a=n.loading,r=n.error,c=n.data;if(r)return g.a.error({title:"Unable to load run data",content:r.toString()}),null;var i=null;return a&&(i=l.a.createElement(me.a,null,l.a.createElement("div",{style:{height:"12em",textAlign:"center",paddingTop:"5em"}},l.a.createElement(ct,{type:"secondary"},l.a.createElement(pe.a,null),l.a.createElement("br",null),"Loading runs...")))),c&&(i=c.runs.edges.map((function(e){return l.a.createElement(ut,{run:e.node})}))),l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{style:{margin:"16px 0"}},l.a.createElement(h.a.Item,null,"Runs")),i)}}),l.a.createElement(ze.a,{exact:!0,path:"/run/:run_id/",component:Je}),l.a.createElement(ze.a,{exact:!0,path:"/run/:run_id/issue/:issue_instance_id",component:at}))),l.a.createElement(pt,null))));i.a.render(bt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[254,1,2]]]);
//# sourceMappingURL=main.f594b70c.chunk.js.map