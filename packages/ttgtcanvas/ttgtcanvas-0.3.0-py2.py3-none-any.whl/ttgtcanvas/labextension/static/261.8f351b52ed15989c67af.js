(self.webpackChunkttgtcanvas=self.webpackChunkttgtcanvas||[]).push([[261,568],{568:(e,t,a)=>{e.exports=a(367),e.exports.version=a(306).version},261:(e,t,a)=>{var n=a(568),s=a(337);e.exports={id:"ttgtcanvas:plugin",requires:[s.IJupyterWidgetRegistry],activate:function(e,t){t.registerWidget({name:"ttgtcanvas",version:n.version,exports:n})},autoStart:!0}},367:(e,t,a)=>{var n=a(337),s=a(431),o=n.DOMWidgetModel.extend({defaults:s.extend(n.DOMWidgetModel.prototype.defaults(),{_model_name:"CanvasModel",_view_name:"CanvasView",_model_module:"ttgtcanvas",_view_module:"ttgtcanvas",_model_module_version:"0.1.0",_view_module_version:"0.1.0",current_call:"{}",method_return:"{}"})}),r=n.DOMWidgetView.extend({canvas:document.createElement("canvas"),render:function(){console.log(this.canvas),this.el.append(this.canvas),console.log("render",this),this.model.on("change:current_call",this.method_changed,this)},method_changed:function(){console.log("current_call");let e=JSON.parse(this.model.get("current_call"));console.log("current_call",this);let t=this[e.method_name].apply(this,e.params);console.log("current_call",e);let a=this;return Promise.resolve(t).then((function(t){console.log("reached in promise");let n=JSON.stringify({value:t,cb:+new Date,params:e.params,method:e.method_name});return console.log("setting return",n),a.model.set("method_return",n),a.model.save_changes(),n}))},update_div:function(e,t){return console.log("update_div",e),this.el.textContent=e,new Promise((function(e,a){setTimeout(e,t)}))},draw_canvas:function(){var e=new Image,t=new Image,a=new Image;e.src="https://mdn.mozillademos.org/files/1456/Canvas_sun.png",t.src="https://mdn.mozillademos.org/files/1443/Canvas_moon.png",a.src="https://mdn.mozillademos.org/files/1429/Canvas_earth.png";let n=this.canvas.getContext("2d");n.globalCompositeOperation="destination-over",n.clearRect(0,0,300,300),n.fillStyle="rgba(0, 0, 0, 0.4)",n.strokeStyle="rgba(0, 153, 255, 0.4)",n.save(),n.translate(150,150);var s=new Date;n.rotate(2*Math.PI/60*s.getSeconds()+2*Math.PI/6e4*s.getMilliseconds()),n.translate(105,0),n.fillRect(0,-12,40,24),n.drawImage(a,-12,-12),n.save(),n.rotate(2*Math.PI/6*s.getSeconds()+2*Math.PI/6e3*s.getMilliseconds()),n.translate(0,28.5),n.drawImage(t,-3.5,-3.5),n.restore(),n.restore(),n.beginPath(),n.arc(150,150,105,0,2*Math.PI,!1),n.stroke(),n.drawImage(e,0,0,300,300),window.requestAnimationFrame(this.draw_canvas.bind(this))}});e.exports={CanvasModel:o,CanvasView:r}},306:e=>{"use strict";e.exports={version:"0.1.0"}}}]);