Metadata-Version: 2.1
Name: PyFoldingAtHomeControl
Version: 2.0.1
Summary: Define module-level imports.
Home-page: http://github.com/eifinger/PyFoldingAtHomeControl
Author: eifinger
Author-email: k.eifinger@googlemail.com
Requires-Python: >=3.7
Description-Content-Type: text/markdown
Classifier: Intended Audience :: Developers
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: License :: OSI Approved :: MIT License
Requires-Dist: pytest==6.2.3 ; extra == "test"
Requires-Dist: pytest-cov==2.11.1 ; extra == "test"
Requires-Dist: pytest-asyncio==0.14.0 ; extra == "test"
Requires-Dist: pylint==2.8.2 ; extra == "test"
Requires-Dist: tox==3.23.0 ; extra == "test"
Requires-Dist: pytest-mock==3.5.1 ; extra == "test"
Requires-Dist: codecov==2.1.11 ; extra == "test"
Requires-Dist: flake8==3.9.0 ; extra == "test"
Requires-Dist: mypy==0.812 ; extra == "test"
Requires-Dist: pre-commit==2.12.0 ; extra == "test"
Requires-Dist: black==21.4b2 ; extra == "test"
Provides-Extra: test

# PyFoldingAtHomeControl
Python library to get stats from your Folding@Home Clients

[![GitHub Actions](https://github.com/eifinger/PyFoldingAtHomeControl/workflows/Python%20package/badge.svg)](https://github.com/eifinger/PyFoldingAtHomeControl/actions?workflow=Python+package)
[![PyPi](https://img.shields.io/pypi/v/PyFoldingAtHomeControl.svg)](https://pypi.python.org/pypi/PyFoldingAtHomeControl)
[![PyPi](https://img.shields.io/pypi/l/PyFoldingAtHomeControl.svg)](https://github.com/eifinger/PyFoldingAtHomeControl/blob/master/LICENSE)
[![codecov](https://codecov.io/gh/eifinger/PyFoldingAtHomeControl/branch/master/graph/badge.svg)](https://codecov.io/gh/eifinger/PyFoldingAtHomeControl)
[![Downloads](https://pepy.tech/badge/pyfoldingathomecontrol)](https://pepy.tech/project/pyfoldingathomecontrol)

## Installation

```bash
$ pip install PyFoldingAtHomeControl
```

## Usage

```python
import asyncio
from FoldingAtHomeControl import FoldingAtHomeController
from FoldingAtHomeControl import PyOnMessageTypes


def callback(message_type, data):
    print(f"callback for: {message_type}: ", data)


async def cancel_task(task_to_cancel):
    task_to_cancel.cancel()
    await task_to_cancel


if __name__ == '__main__':
    Controller = FoldingAtHomeController("localhost")
    Controller.register_callback(callback)
    loop = asyncio.get_event_loop()
    task = loop.create_task(Controller.start())
    try:
        loop.run_until_complete(task)
    except KeyboardInterrupt:
        pass
    finally:
        print("Cancelling task")
        try:
            loop.run_until_complete(cancel_task(task))
        except asyncio.CancelledError:
            print("Closing Loop")
            loop.close()
```

