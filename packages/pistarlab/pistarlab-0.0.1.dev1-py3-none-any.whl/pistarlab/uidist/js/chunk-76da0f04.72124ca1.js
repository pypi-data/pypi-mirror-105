(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76da0f04"],{"8f5e":function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[t._m(0),i("div",{staticClass:"mt-4"}),i("b-container",{attrs:{fluid:""}},[i("b-row",[i("b-col",[i("div",{staticClass:"pt-2"},[i("div",{staticClass:"data_label"},[t._v("Task Spec")]),i("span",[t._v(t._s(t.spec.ident))])]),i("div",{staticClass:"pt-2"},[i("div",{staticClass:"data_label"},[t._v("Plugin ID")]),i("span",[t._v(t._s(t.spec.pluginId))])]),i("div",{staticClass:"pt-2"},[i("div",{staticClass:"data_label"},[t._v("Version")]),i("span",[t._v(t._s(t.spec.version))])]),i("div",{staticClass:"pt-2"},[i("div",{staticClass:"data_label"},[t._v("Description")]),i("span",[t._v(t._s(t.spec.description))])])])],1),i("div",{staticClass:"mt-4"}),i("b-row",[i("b-col",[i("div",{staticClass:"data_label"},[t._v("Config")]),i("div",[i("editor",{attrs:{lang:"json",theme:"twilight",width:"100%",height:"600"},on:{init:t.editorInit},model:{value:t.config,callback:function(s){t.config=s},expression:"config"}})],1)])],1),i("div",{staticClass:"mt-4"}),i("b-row",[i("b-col",[i("div",[t.submitting?i("b-button",{staticClass:"mr-4",attrs:{size:"sm",variant:"primary",disabled:""}},[i("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Processing... ")],1):i("b-button",{staticClass:"mr-4",attrs:{size:"sm",variant:"primary"},on:{click:t.submit}},[t._v("Create Instance")]),t.submitting?t._e():i("b-button",{attrs:{variant:"secondary",size:"sm",to:"/task/specs/"}},[t._v("Cancel")])],1)])],1)],1)],1)},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("h2",[i("i",{staticClass:"fas fa-stream"}),t._v(" New Task")])}],e=i("8785"),c=i("bc3a"),r=i.n(c),o=i("4023"),l=(i("bbd0"),i("9530")),d=i.n(l);function p(){var t=Object(e["a"])(["\n  query GetTaskSpec($ident: String!) {\n    spec:taskSpec(ident: $ident) {\n      id\n      ident\n      description\n      pluginId\n      version\n      config\n    }\n  }\n"]);return p=function(){return t},t}var u=d()(p()),f={name:"NewTask",components:{editor:i("7c9e")},apollo:{spec:{query:u,variables:function(){return{ident:this.specId}}}},data:function(){return{spec:{},options:{},config:"",code:"",submitting:!1}},props:{specId:String},methods:{editorInit:function(){i("2099"),i("be9d"),i("818b"),i("0329"),i("79fb"),i("6a21")},cancel:function(){},onError:function(){},submit:function(){var t=this,s={config:JSON.parse(this.config),specId:this.specId};r.a.post("".concat(o["a"].API_URL,"/api/new_task_submit"),s).then((function(s){var i=s.data["item"];"uid"in i?t.$router.push({path:"/task/view/".concat(i.uid)}):(console.log("ERROR in response "+JSON.stringify(i)),t.errorMessage=JSON.stringify(i["error"])),t.traceback=i["traceback"],t.submitting=!1})).catch((function(t){this.errorMessage=t,this.submitting=!1}))}},watch:{spec:function(t){this.spec=t,this.spec.config&&(this.config=JSON.stringify(JSON.parse(this.spec.config),null,2))}},created:function(){}},v=f,b=(i("c94f"),i("2877")),g=Object(b["a"])(v,n,a,!1,null,"47f1749a",null);s["default"]=g.exports},c08f:function(t,s,i){},c94f:function(t,s,i){"use strict";var n=i("c08f"),a=i.n(n);a.a}}]);
//# sourceMappingURL=chunk-76da0f04.72124ca1.js.map