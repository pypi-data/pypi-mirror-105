(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b07faa6c"],{"0d2e":function(e,t,n){"use strict";var o=n("5f8b"),i=n.n(o);i.a},"2f76":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item?n("div",[n("h2",[n("i",{staticClass:"fa fa-cube"}),e._v(" Session: "+e._s(e.item.ident)+", Episode: "+e._s(e.selectedEpisodeId))]),n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",[e.message?n("b-alert",{attrs:{show:"",variant:"warning"}},[e._v(e._s(e.message))]):e._e()],1)],1),n("b-row",[n("b-col",[n("b-navbar",{attrs:{toggleable:"lg",type:"light"}},[n("b-button-toolbar",{attrs:{"aria-label":"Toolbar with button groups and input groups"}},[n("b-button-group",{staticClass:"mr-1"},[n("b-button",{attrs:{to:"/session/view/"+e.item.ident}},[n("i",{staticClass:"fas fa-arrow-up"}),e._v(" Session ")])],1)],1)],1),n("b-row",[n("b-col",[n("b-form-group",{attrs:{label:"Episode"}},[n("b-form-select",{attrs:{options:e.episodeList},on:{change:function(t){return e.updateEpisode()}},model:{value:e.selectedEpisodeId,callback:function(t){e.selectedEpisodeId=t},expression:"selectedEpisodeId"}})],1)],1)],1)],1)],1),n("div",{staticClass:"mt-2"}),n("b-row",[n("b-col",[n("embed",{attrs:{src:e.videoURL,type:"video/mp4",height:"300px"}})])],1),n("b-row",[n("b-col",[n("b-card",[n("b-card-text",[n("b-table",{attrs:{striped:"",hover:"","table-busy":"",items:e.episode,fields:e.fields,dark:!1,small:!1,bordered:!1,outlined:!1,borderless:!1,"no-provider-paging":!0,"per-page":e.perPage,"current-page":e.currentPage},scopedSlots:e._u([{key:"cell(preview)",fn:function(t){return[n("img",{attrs:{height:"80",src:e.appConfig.API_URL+"/api/download/session/"+e.item.ident+"/episode/"+e.selectedEpisodeId+"/images/"+e.pad(t.item.episode_step_count,5)+".jpg"}})]}},{key:"cell(test)",fn:function(t){return[e._v(" "+e._s(t.item)+" ")]}}],null,!1,3150783779)}),n("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"datatable"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)],1)],1):e._e()},i=[],s=(n("99af"),n("4160"),n("caad"),n("a15b"),n("d81d"),n("b64b"),n("ac1f"),n("2532"),n("1276"),n("159b"),n("8785")),a=n("bc3a"),r=n.n(a),d=n("9530"),c=n.n(d),l=n("bbd0"),u=n("4023");function p(){var e=Object(s["a"])(["\n  query GetSession($ident: String!) {\n    session(ident: $ident) {\n        id\n      ident\n      envSpecId\n      created\n      config\n      runInfo\n      status\n      createdTimestamp\n    }\n  }\n"]);return p=function(){return e},e}function b(e,t){return null==e?"":isNaN(e)?"NaN":e.toPrecision(t)}function f(e,t,n){return n=n||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(n)+e}var g=[{key:"episode_step_count",label:"Step"},{key:"reward",label:"Reward",formatter:function(e){return b(e,3)}},{key:"observation",label:"Observation"},{key:"preview",label:"Preview",formatter:function(e){return null==e||e.includes("ENCODE_FAILED")?"NA":e}},{key:"done",label:"Done"},{key:"action",label:"Action (after observation)"}],h=c()(p()),m={name:"Session",components:{},apollo:{session:{query:h,variables:function(){return{ident:this.uid}}}},data:function(){return{appConfig:u["a"],perPage:10,currentPage:1,session:{},fields:g,selectedEpisodeId:null,episodes:[],episode:[],maxEpisode:"",message:"",imageURL:"placeholder.jpg",videoURL:""}},props:{uid:String,episodeId:String},computed:{episodeList:function(){return 0==this.episodes.length?[]:this.episodes.map((function(e){return{text:e,value:e}}))},item:function(){return this.session},rows:function(){return this.episode.length}},mounted:function(){},methods:{pad:f,updateEpisode:function(){this.$router.push({path:"/episode/view/".concat(this.uid),query:{episodeId:this.selectedEpisodeId}}),this.loadData()},timedelta:l["c"],timelength:l["e"],getImageId:function(e){var t=parseInt(e.split("-")[1]);return t%19},formatNum:b,imageError:function(e){console.log(e),this.imageURL="placeholder.jpg"},loadData:function(){var e=this;console.log(this.uid),r.a.get("".concat(u["a"].API_URL,"/api/session_episodes/").concat(this.uid)).then((function(t){var n=t.data["items"];n&&(e.episodes=n)})).catch((function(t){e.error=t})),r.a.get("".concat(u["a"].API_URL,"/api/session_episode_by_id/").concat(this.uid,"/").concat(this.selectedEpisodeId)).then((function(t){console.log(JSON.stringify(t,null,2));var n=t.data["item"],o=[];if(null!=n)for(var i=Object.keys(n),s=n[i[0]].length,a=function(e){var t={};i.forEach((function(o){t[o]=n[o][e]})),o.push(t)},r=0;r<s;r++)a(r);e.episode=o,e.videoURL="".concat(u["a"].API_URL,"/api/session_episode_mp4/").concat(e.uid,"/").concat(e.selectedEpisodeId)})).catch((function(t){e.error=t,console.log(e.error)}))}},created:function(){this.selectedEpisodeId=this.episodeId,this.loadData()},beforeDestroy:function(){}},v=m,_=(n("0d2e"),n("2877")),w=Object(_["a"])(v,o,i,!1,null,null,null);t["default"]=w.exports},"5f8b":function(e,t,n){}}]);
//# sourceMappingURL=chunk-b07faa6c.b72aa3dc.js.map