var CompositeSearch=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t,e,n=e){return t.set(n),e}const d="undefined"!=typeof window;let c=d?()=>window.performance.now():()=>Date.now(),u=d?t=>requestAnimationFrame(t):t;const f=new Set;function p(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&u(p)}function g(t){let e;return 0===f.size&&u(p),{promise:new Promise((n=>{f.add(e={c:t,f:n})})),abort(){f.delete(e)}}}function h(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function b(){return w(" ")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function D(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function T(t,e,n){t.classList[n?"add":"remove"](e)}function O(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const C=new Set;let L,A=0;function _(t,e,n,o,i,r,s,l=0){const a=16.666/o;let d="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*r(t);d+=100*t+`%{${s(o,1-o)}}\n`}const c=d+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${l}`,f=t.ownerDocument;C.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(y("style")).sheet),g=f.__svelte_rules||(f.__svelte_rules={});g[u]||(g[u]=!0,p.insertRule(`@keyframes ${u} ${c}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${i}ms 1 both`,A+=1,u}function S(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),A-=i,A||u((()=>{A||(C.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),C.clear())})))}function M(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),i="none"===o.transform?"":o.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,i)}}function j(t){L=t}function F(){const t=function(){if(!L)throw new Error("Function called outside component initialization");return L}();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=O(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}const W=[],B=[],N=[],I=[],P=Promise.resolve();let R=!1;function z(t){N.push(t)}function q(t){I.push(t)}let H=!1;const X=new Set;function Y(){if(!H){H=!0;do{for(let t=0;t<W.length;t+=1){const e=W[t];j(e),V(e.$$)}for(j(null),W.length=0;B.length;)B.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];X.has(e)||(X.add(e),e())}N.length=0}while(W.length);for(;I.length;)I.pop()();R=!1,H=!1,X.clear()}}function V(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}let Z;function U(t,e,n){t.dispatchEvent(O(`${e?"intro":"outro"}${n}`))}const G=new Set;let J;function K(){J={r:0,c:[],p:J}}function Q(){J.r||i(J.c),J=J.p}function tt(t,e){t&&t.i&&(G.delete(t),t.i(e))}function et(t,e,n,o){if(t&&t.o){if(G.has(t))return;G.add(t),J.c.push((()=>{G.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const nt={duration:0};function ot(n,o,s,l){let a=o(n,s),d=l?0:1,u=null,f=null,p=null;function h(){p&&S(n,p)}function m(t,e){const n=t.b-d;return e*=Math.abs(n),{a:d,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(o){const{delay:r=0,duration:s=300,easing:l=e,tick:v=t,css:y}=a||nt,$={start:c()+r,b:o};o||($.group=J,J.r+=1),u||f?f=$:(y&&(h(),p=_(n,d,o,s,r,l,y)),o&&v(0,1),u=m($,s),z((()=>U(n,o,"start"))),g((t=>{if(f&&t>f.start&&(u=m(f,s),f=null,U(n,u.b,"start"),y&&(h(),p=_(n,d,u.b,u.duration,0,l,a.css))),u)if(t>=u.end)v(d=u.b,1-d),U(n,u.b,"end"),f||(u.b?h():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;d=u.a+u.d*l(e/u.duration),v(d,1-d)}return!(!u&&!f)})))}return{run(t){r(a)?(Z||(Z=Promise.resolve(),Z.then((()=>{Z=null}))),Z).then((()=>{a=a(),v(t)})):v(t)},end(){h(),u=f=null}}}function it(t,e){t.d(1),e.delete(t.key)}function rt(t,e){t.f(),function(t,e){et(t,1,1,(()=>{e.delete(t.key)}))}(t,e)}function st(t,e,n,o,i,r,s,l,a,d,c,u){let f=t.length,p=r.length,g=f;const h={};for(;g--;)h[t[g].key]=g;const m=[],v=new Map,y=new Map;for(g=p;g--;){const t=u(i,r,g),l=n(t);let a=s.get(l);a?o&&a.p(t,e):(a=d(l,t),a.c()),v.set(l,m[g]=a),l in h&&y.set(l,Math.abs(g-h[l]))}const $=new Set,w=new Set;function b(t){tt(t,1),t.m(l,c),s.set(t.key,t),c=t.first,p--}for(;f&&p;){const e=m[p-1],n=t[f-1],o=e.key,i=n.key;e===n?(c=e.first,f--,p--):v.has(i)?!s.has(o)||$.has(o)?b(e):w.has(i)?f--:y.get(o)>y.get(i)?(w.add(o),b(e)):($.add(i),f--):(a(n,s),f--)}for(;f--;){const e=t[f];v.has(e.key)||a(e,s)}for(;p;)b(m[p-1]);return m}function lt(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function at(t){t&&t.c()}function dt(t,e,o,s){const{fragment:l,on_mount:a,on_destroy:d,after_update:c}=t.$$;l&&l.m(e,o),s||z((()=>{const e=a.map(n).filter(r);d?d.push(...e):i(e),t.$$.on_mount=[]})),c.forEach(z)}function ct(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ut(t,e){-1===t.$$.dirty[0]&&(W.push(t),R||(R=!0,P.then(Y)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ft(e,n,r,s,l,a,d=[-1]){const c=L;j(e);const u=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:n.context||[]),callbacks:o(),dirty:d,skip_bound:!1};let f=!1;if(u.ctx=r?r(e,n.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return u.ctx&&l(u.ctx[t],u.ctx[t]=i)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](i),f&&ut(e,t)),n})):[],u.update(),f=!0,i(u.before_update),u.fragment=!!s&&s(u.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);u.fragment&&u.fragment.l(t),t.forEach(v)}else u.fragment&&u.fragment.c();n.intro&&tt(e.$$.fragment),dt(e,n.target,n.anchor,n.customElement),Y()}j(c)}class pt{$destroy(){ct(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const gt=[];function ht(e,n=t){let o;const i=[];function r(t){if(s(e,t)&&(e=t,o)){const t=!gt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),gt.push(n,e)}if(t){for(let t=0;t<gt.length;t+=2)gt[t][0](gt[t+1]);gt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,l=t){const a=[s,l];return i.push(a),1===i.length&&(o=n(r)||t),s(e),()=>{const t=i.indexOf(a);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}class mt{static setDefinitions(t){this.definitions=t;const e=Object.keys(this.definitions);this.default=e[0];for(let t of e)if(this.definitions[t].default){this.default=t;break}}}mt.definitions={};const vt=function(t=!1){const{subscribe:e,set:n,update:o}=ht(t);return{subscribe:e,set:n,enable:()=>n(!0),disable:()=>n(!1),toggle:()=>o((t=>!t))}}(),yt=function(t=[]){const{subscribe:e,set:n,update:o}=ht(t);let i=0;return{subscribe:e,set:t=>n(t.map((t=>t.id?t:Object.assign({id:++i},t)))),addDefault:function(){this.add({type:mt.default,value:null})},add:t=>o((e=>[...e,Object.assign({id:++i},t)])),remove:t=>o((e=>[...e.slice(0,t),...e.slice(t+1)]))}}(),$t=ht("");var wt=Object.freeze({__proto__:null,state:vt,formData:yt,prefix:$t});function bt(t,e,n){t.dispatchEvent(new CustomEvent("finalize",{detail:{items:e,info:n}}))}function xt(t,e,n){t.dispatchEvent(new CustomEvent("consider",{detail:{items:e,info:n}}))}const Et="draggedEntered",Dt="draggedLeft",kt="draggedOverIndex",Tt="draggedLeftDocument",Ot="leftForAnother",Ct="outsideOfAny";function Lt(t,e,n){t.dispatchEvent(new CustomEvent(Et,{detail:{indexObj:e,draggedEl:n}}))}function At(t,e,n){t.dispatchEvent(new CustomEvent(Dt,{detail:{draggedEl:e,type:Ot,theOtherDz:n}}))}function _t(t,e,n){t.dispatchEvent(new CustomEvent(kt,{detail:{indexObj:e,draggedEl:n}}))}const St="dragStarted",Mt=Et,jt="dragEnteredAnother",Ft=kt,Wt=Dt,Bt="draggedLeftAll",Nt="droppedIntoZone",It="droppedIntoAnother",Pt="droppedOutsideOfAny",Rt="dragStopped",zt="pointer",qt="keyboard",Ht="isDndShadowItem",Xt="data-is-dnd-shadow-item",Yt="id:dnd-shadow-placeholder-0000";let Vt="id",Zt=0;function Ut(){Zt++}function Gt(){if(0===Zt)throw new Error("Bug! trying to decrement when there are no dropzones");Zt--}const Jt="undefined"==typeof window;function Kt(t){let e;const n=t.getBoundingClientRect(),o=getComputedStyle(t),i=o.transform;if(i){let r,s,l,a;if(i.startsWith("matrix3d("))e=i.slice(9,-1).split(/, /),r=+e[0],s=+e[5],l=+e[12],a=+e[13];else{if(!i.startsWith("matrix("))return n;e=i.slice(7,-1).split(/, /),r=+e[0],s=+e[3],l=+e[4],a=+e[5]}const d=o.transformOrigin,c=n.x-l-(1-r)*parseFloat(d),u=n.y-a-(1-s)*parseFloat(d.slice(d.indexOf(" ")+1)),f=r?n.width/r:t.offsetWidth,p=s?n.height/s:t.offsetHeight;return{x:c,y:u,width:f,height:p,top:u,right:c+f,bottom:u+p,left:c}}return n}function Qt(t){const e=Kt(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function te(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function ee(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function ne(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function oe(t){return ee(te(t))}function ie(t,e){return ne(oe(t),Qt(e))}function re(t,e){const n=oe(t),o=oe(e);return i=n,r=o,Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2));var i,r}let se;function le(){se=new Map}function ae(t,e){if(!ie(t,e))return null;const n=e.children;if(0===n.length)return{index:0,isProximityBased:!0};const o=function(t){const e=Array.from(t.children).findIndex((t=>t.getAttribute(Xt)));if(e>=0)return se.has(t)||se.set(t,new Map),se.get(t).set(e,Qt(t.children[e])),e}(e);for(let i=0;i<n.length;i++)if(ie(t,n[i])){const n=se.has(e)&&se.get(e).get(i);return n&&!ne(oe(t),n)?{index:o,isProximityBased:!1}:{index:i,isProximityBased:!1}}let i,r=Number.MAX_VALUE;for(let e=0;e<n.length;e++){const o=re(t,n[e]);o<r&&(r=o,i=e)}return{index:i,isProximityBased:!0}}le();function de(){let t;function e(){t={directionObj:void 0,stepPx:0}}function n(e){const{directionObj:o,stepPx:i}=t;o&&(e.scrollBy(o.x*i,o.y*i),window.requestAnimationFrame((()=>n(e))))}function o(t){return 25-t}return e(),{scrollIfNeeded:function(i,r){if(!r)return!1;const s=function(t,e){const n=te(e);return ne(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}(i,r);if(null===s)return e(),!1;const l=!!t.directionObj;let[a,d]=[!1,!1];return r.scrollHeight>r.clientHeight&&(s.bottom<25?(a=!0,t.directionObj={x:0,y:1},t.stepPx=o(s.bottom)):s.top<25&&(a=!0,t.directionObj={x:0,y:-1},t.stepPx=o(s.top)),!l&&a)||r.scrollWidth>r.clientWidth&&(s.right<25?(d=!0,t.directionObj={x:1,y:0},t.stepPx=o(s.right)):s.left<25&&(d=!0,t.directionObj={x:-1,y:0},t.stepPx=o(s.left)),!l&&d)?(n(r),!0):(e(),!1)},resetScrolling:e}}function ce(t){return JSON.stringify(t,null,2)}function ue(t){if(!t)throw new Error("cannot get depth of a falsy node");return fe(t,0)}function fe(t,e=0){return t.parentElement?fe(t.parentElement,e+1):e-1}const{scrollIfNeeded:pe,resetScrolling:ge}=de();let he;function me(t,e,n=200){let o,i,r,s=!1;const l=Array.from(e).sort(((t,e)=>ue(e)-ue(t)));!function e(){const a=oe(t);if(!pe(a,o)&&r&&Math.abs(r.x-a.x)<10&&Math.abs(r.y-a.y)<10)return void(he=window.setTimeout(e,n));if(function(t){const e=te(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}(t))return void function(t){window.dispatchEvent(new CustomEvent(Tt,{detail:{draggedEl:t}}))}(t);r=a;let d=!1;for(const e of l){const n=ae(t,e);if(null===n)continue;const{index:r}=n;d=!0,e!==o?(o&&At(o,t,e),Lt(e,n,t),o=e):r!==i&&(_t(e,n,t),i=r);break}!d&&s&&o?(!function(t,e){t.dispatchEvent(new CustomEvent(Dt,{detail:{draggedEl:e,type:Ct}}))}(o,t),o=void 0,i=void 0,s=!1):s=!0,he=window.setTimeout(e,n)}()}let ve;function ye(t){const e=t.touches?t.touches[0]:t;ve={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:$e,resetScrolling:we}=de();let be;function xe(){ve&&$e(ve,document.documentElement),be=window.setTimeout(xe,300)}function Ee(t){return`${t} 0.2s ease`}function De(t,e,n,o,i){const r=e.getBoundingClientRect(),s=t.getBoundingClientRect(),l=r.width-s.width,a=r.height-s.height;if(l||a){const e={left:(n-s.left)/s.width,top:(o-s.top)/s.height};t.style.height=`${r.height}px`,t.style.width=`${r.width}px`,t.style.left=parseFloat(t.style.left)-e.left*l+"px",t.style.top=parseFloat(t.style.top)-e.top*a+"px"}ke(e,t),i()}function ke(t,e){const n=window.getComputedStyle(t);Array.from(n).filter((t=>t.startsWith("background")||t.startsWith("padding")||t.startsWith("font")||t.startsWith("text")||t.startsWith("align")||t.startsWith("justify")||t.startsWith("display")||t.startsWith("flex")||t.startsWith("border")||"opacity"===t||"color"===t||"list-style-type"===t)).forEach((t=>e.style.setProperty(t,n.getPropertyValue(t),n.getPropertyPriority(t))))}function Te(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function Oe(t,e=(()=>{}),n=(()=>[])){t.forEach((t=>{const o=e(t);Object.keys(o).forEach((e=>{t.style[e]=o[e]})),n(t).forEach((e=>t.classList.add(e)))}))}function Ce(t,e=(()=>{}),n=(()=>[])){t.forEach((t=>{const o=e(t);Object.keys(o).forEach((e=>{t.style[e]=""})),n(t).forEach((e=>t.classList.contains(e)&&t.classList.remove(e)))}))}const Le={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let Ae,_e,Se,Me,je,Fe,We,Be,Ne,Ie,Pe,Re=!1,ze=!1,qe=!1;const He=new Map,Xe=new Map,Ye=new WeakMap;function Ve(t,e){He.get(e).delete(t),Gt(),0===He.get(e).size&&He.delete(e)}function Ze(){window.addEventListener("mousemove",ye),window.addEventListener("touchmove",ye),xe();const t=He.get(Me);for(const e of t)e.addEventListener(Et,Je),e.addEventListener(Dt,Ke),e.addEventListener(kt,Qe);window.addEventListener(Tt,en);const e=Math.max(100,...Array.from(t.keys()).map((t=>Xe.get(t).dropAnimationDurationMs)));me(_e,t,1.07*e)}function Ue(){window.removeEventListener("mousemove",ye),window.removeEventListener("touchmove",ye),ve=void 0,window.clearTimeout(be),we();const t=He.get(Me);for(const e of t)e.removeEventListener(Et,Je),e.removeEventListener(Dt,Ke),e.removeEventListener(kt,Qe);window.removeEventListener(Tt,en),clearTimeout(he),ge(),le()}function Ge(t){return t.findIndex((t=>!!t.isDndShadowItem&&t.id!==Yt))}function Je(t){let{items:e,dropFromOthersDisabled:n}=Xe.get(t.currentTarget);if(n&&t.currentTarget!==je)return;if(qe=!1,e=e.filter((t=>t.id!==We.id)),je!==t.currentTarget){const t=Xe.get(je).items.filter((t=>!t.isDndShadowItem));xt(je,t,{trigger:jt,id:Se.id,source:zt})}else{const t=function(t){return t.findIndex((t=>t.id===Yt))}(e);-1!==t&&e.splice(t,1)}const{index:o,isProximityBased:i}=t.detail.indexObj,r=i&&o===t.currentTarget.children.length-1?o+1:o;Be=t.currentTarget,e.splice(r,0,We),xt(t.currentTarget,e,{trigger:Mt,id:Se.id,source:zt})}function Ke(t){if(!Re)return;const{items:e,dropFromOthersDisabled:n}=Xe.get(t.currentTarget);if(n&&t.currentTarget!==je)return;const o=Ge(e),i=e.splice(o,1)[0];Be=void 0;const{type:r,theOtherDz:s}=t.detail;if(r===Ct||r===Ot&&s!==je&&Xe.get(s).dropFromOthersDisabled){qe=!0,Be=je;const t=Xe.get(je).items;t.splice(Fe,0,i),xt(je,t,{trigger:Bt,id:Se.id,source:zt})}xt(t.currentTarget,e,{trigger:Wt,id:Se.id,source:zt})}function Qe(t){const{items:e,dropFromOthersDisabled:n}=Xe.get(t.currentTarget);if(n&&t.currentTarget!==je)return;qe=!1;const{index:o}=t.detail.indexObj,i=Ge(e);e.splice(i,1),e.splice(o,0,We),xt(t.currentTarget,e,{trigger:Ft,id:Se.id,source:zt})}function tn(t){t.preventDefault();const e=t.touches?t.touches[0]:t;Ie={x:e.clientX,y:e.clientY},_e.style.transform=`translate3d(${Ie.x-Ne.x}px, ${Ie.y-Ne.y}px, 0)`}function en(){ze=!0,window.removeEventListener("mousemove",tn),window.removeEventListener("touchmove",tn),window.removeEventListener("mouseup",en),window.removeEventListener("touchend",en),Ue(),function(t){t.style.cursor="grab"}(_e),Be||(Be=je);let{items:t,type:e}=Xe.get(Be);Ce(He.get(e),(t=>Xe.get(t).dropTargetStyle),(t=>Xe.get(t).dropTargetClasses));let n=Ge(t);-1===n&&(n=Fe),t=t.map((t=>t.isDndShadowItem?Se:t)),function(t,e){const n=Kt(Be.children[t]),o={x:n.left-parseFloat(_e.style.left),y:n.top-parseFloat(_e.style.top)},{dropAnimationDurationMs:i}=Xe.get(Be),r=`transform ${i}ms ease`;_e.style.transition=_e.style.transition?_e.style.transition+","+r:r,_e.style.transform=`translate3d(${o.x}px, ${o.y}px, 0)`,window.setTimeout(e,i)}(n,(function(){var e;Pe(),bt(Be,t,{trigger:qe?Pt:Nt,id:Se.id,source:zt}),Be!==je&&bt(je,Xe.get(je).items,{trigger:It,id:Se.id,source:zt}),(e=Be.children[n]).style.visibility="",e.removeAttribute(Xt),_e.remove(),Ae.remove(),_e=void 0,Ae=void 0,Se=void 0,Me=void 0,je=void 0,Fe=void 0,We=void 0,Be=void 0,Ne=void 0,Ie=void 0,Re=!1,ze=!1,Pe=void 0,qe=!1}))}function nn(t,e){const n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Le,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let o=new Map;function i(){window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r)}function r(){i(),Ae=void 0,Ne=void 0,Ie=void 0}function s(t){t.preventDefault();const e=t.touches?t.touches[0]:t;Ie={x:e.clientX,y:e.clientY},(Math.abs(Ie.x-Ne.x)>=3||Math.abs(Ie.y-Ne.y)>=3)&&(i(),function(){Re=!0;const t=o.get(Ae);Fe=t,je=Ae.parentElement;const{items:e,type:i,centreDraggedOnCursor:r}=n;Se={...e[t]},Me=i,We={...Se,[Ht]:!0};const s={...We,[Vt]:Yt};function l(){var t;_e.parentElement?window.requestAnimationFrame(l):(document.body.appendChild(_e),_e.focus(),Ze(),(t=Ae).style.display="none",t.style.position="fixed",t.style.zIndex="-5",document.body.appendChild(Ae))}_e=function(t,e){const n=t.getBoundingClientRect(),o=t.cloneNode(!0);ke(t,o),o.id="dnd-action-dragged-el",o.style.position="fixed";let i=n.top,r=n.left;if(o.style.top=`${i}px`,o.style.left=`${r}px`,e){const t=ee(n);i-=t.y-e.y,r-=t.x-e.x,window.setTimeout((()=>{o.style.top=`${i}px`,o.style.left=`${r}px`}),0)}return o.style.margin="0",o.style.boxSizing="border-box",o.style.height=`${n.height}px`,o.style.width=`${n.width}px`,o.style.transition=`${Ee("top")}, ${Ee("left")}, ${Ee("background-color")}, ${Ee("opacity")}, ${Ee("color")} `,window.setTimeout((()=>o.style.transition+=`, ${Ee("width")}, ${Ee("height")}`),0),o.style.zIndex="9999",o.style.cursor="grabbing",o}(Ae,r&&Ie),window.requestAnimationFrame(l),Oe(Array.from(He.get(n.type)).filter((t=>t===je||!Xe.get(t).dropFromOthersDisabled)),(t=>Xe.get(t).dropTargetStyle),(t=>Xe.get(t).dropTargetClasses)),e.splice(t,1,s),Pe=function(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}(je),xt(je,e,{trigger:St,id:Se.id,source:zt}),window.addEventListener("mousemove",tn,{passive:!1}),window.addEventListener("touchmove",tn,{passive:!1,capture:!1}),window.addEventListener("mouseup",en,{passive:!1}),window.addEventListener("touchend",en,{passive:!1})}())}function l(t){if(t.target!==t.currentTarget&&(void 0!==t.target.value||t.target.isContentEditable))return;if(t.button)return;if(Re)return;t.stopPropagation();const e=t.touches?t.touches[0]:t;Ne={x:e.clientX,y:e.clientY},Ie={...Ne},Ae=t.currentTarget,window.addEventListener("mousemove",s,{passive:!1}),window.addEventListener("touchmove",s,{passive:!1,capture:!1}),window.addEventListener("mouseup",r,{passive:!1}),window.addEventListener("touchend",r,{passive:!1})}function a({items:e,flipDurationMs:i=0,type:r="--any--",dragDisabled:s=!1,morphDisabled:a=!1,dropFromOthersDisabled:d=!1,dropTargetStyle:c=Le,dropTargetClasses:u=[],transformDraggedElement:f=(()=>{}),centreDraggedOnCursor:p=!1}){var g,h;function m(t,e){return Xe.get(t)?Xe.get(t)[e]:n[e]}n.dropAnimationDurationMs=i,n.type&&r!==n.type&&Ve(t,n.type),n.type=r,g=t,h=r,He.has(h)||He.set(h,new Set),He.get(h).has(g)||(He.get(h).add(g),Ut()),n.items=[...e],n.dragDisabled=s,n.morphDisabled=a,n.transformDraggedElement=f,n.centreDraggedOnCursor=p,!Re||ze||function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}(c,n.dropTargetStyle)&&function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(u,n.dropTargetClasses)||(Ce([t],(()=>n.dropTargetStyle),(()=>u)),Oe([t],(()=>c),(()=>u))),n.dropTargetStyle=c,n.dropTargetClasses=[...u],Re&&n.dropFromOthersDisabled!==d&&(d?Ce([t],(t=>m(t,"dropTargetStyle")),(t=>m(t,"dropTargetClasses"))):Oe([t],(t=>m(t,"dropTargetStyle")),(t=>m(t,"dropTargetClasses")))),n.dropFromOthersDisabled=d,Xe.set(t,n);const v=Ge(n.items);for(let e=0;e<t.children.length;e++){const i=t.children[e];Te(i,s),e!==v?(i.removeEventListener("mousedown",Ye.get(i)),i.removeEventListener("touchstart",Ye.get(i)),s||(i.addEventListener("mousedown",l),i.addEventListener("touchstart",l),Ye.set(i,l)),o.set(i,e)):(a||De(_e,i,Ie.x,Ie.y,(()=>n.transformDraggedElement(_e,Se,e))),(y=i).style.visibility="hidden",y.setAttribute(Xt,"true"))}var y}return a(e),{update:t=>{a(t)},destroy:()=>{Ve(t,n.type),Xe.delete(t)}}}const on={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},rn={[on.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[on.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"};let sn;function ln(){sn=document.createElement("div"),sn.id="dnd-action-aria-alert",sn.style.position="fixed",sn.style.bottom="0",sn.style.left="0",sn.style.zIndex="-5",sn.style.opacity="0",sn.style.height="0",sn.style.width="0",sn.setAttribute("role","alert"),document.body.prepend(sn),Object.entries(rn).forEach((([t,e])=>document.body.prepend(function(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}(t,e))))}function an(t){sn.innerHTML="";const e=document.createTextNode(t);sn.appendChild(e),sn.style.display="none",sn.style.display="inline"}const dn={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let cn,un,fn,pn,gn=!1,hn="",mn="";const vn=new WeakSet,yn=new WeakMap,$n=new WeakMap,wn=new Map,bn=new Map,xn=new Map,En=Jt?null:("complete"===document.readyState?ln():window.addEventListener("DOMContentLoaded",ln),{...on});function Dn(t,e){un===t&&Ln(),xn.get(e).delete(t),Gt(),0===xn.get(e).size&&xn.delete(e),0===xn.size&&(window.removeEventListener("keydown",kn),window.removeEventListener("click",Tn))}function kn(t){if(gn)switch(t.key){case"Escape":Ln()}}function Tn(){gn&&(vn.has(document.activeElement)||Ln())}function On(t){if(!gn)return;const e=t.currentTarget;if(e===un)return;hn=e.getAttribute("aria-label")||"";const{items:n}=bn.get(un),o=n.find((t=>t.id===pn)),i=n.indexOf(o),r=n.splice(i,1)[0],{items:s,autoAriaDisabled:l}=bn.get(e);e.getBoundingClientRect().top<un.getBoundingClientRect().top||e.getBoundingClientRect().left<un.getBoundingClientRect().left?(s.push(r),l||an(`Moved item ${mn} to the end of the list ${hn}`)):(s.unshift(r),l||an(`Moved item ${mn} to the beginning of the list ${hn}`));bt(un,n,{trigger:It,id:pn,source:qt}),bt(e,s,{trigger:Nt,id:pn,source:qt}),un=e}function Cn(){wn.forEach((({update:t},e)=>t(bn.get(e))))}function Ln(t=!0){bn.get(un).autoAriaDisabled||an(`Stopped dragging item ${mn}`),vn.has(document.activeElement)&&document.activeElement.blur(),t&&xt(un,bn.get(un).items,{trigger:Rt,id:pn,source:qt}),Ce(xn.get(cn),(t=>bn.get(t).dropTargetStyle),(t=>bn.get(t).dropTargetClasses)),fn=null,pn=null,mn="",cn=null,un=null,hn="",gn=!1,Cn()}function An(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:dn,dropTargetClasses:[],autoAriaDisabled:!1};function o(t,e,n){t.length<=1||t.splice(n,1,t.splice(e,1,t[n])[0])}function i(e){switch(e.key){case"Enter":case" ":if((void 0!==e.target.disabled||e.target.href||e.target.isContentEditable)&&!vn.has(e.target))return;e.preventDefault(),e.stopPropagation(),gn?Ln():r(e);break;case"ArrowDown":case"ArrowRight":{if(!gn)return;e.preventDefault(),e.stopPropagation();const{items:i}=bn.get(t),r=Array.from(t.children),s=r.indexOf(e.currentTarget);s<r.length-1&&(n.autoAriaDisabled||an(`Moved item ${mn} to position ${s+2} in the list ${hn}`),o(i,s,s+1),bt(t,i,{trigger:Nt,id:pn,source:qt}));break}case"ArrowUp":case"ArrowLeft":{if(!gn)return;e.preventDefault(),e.stopPropagation();const{items:i}=bn.get(t),r=Array.from(t.children).indexOf(e.currentTarget);r>0&&(n.autoAriaDisabled||an(`Moved item ${mn} to position ${r} in the list ${hn}`),o(i,r,r-1),bt(t,i,{trigger:Nt,id:pn,source:qt}));break}}}function r(e){!function(e){const{items:n}=bn.get(t),o=Array.from(t.children),i=o.indexOf(e);fn=e,fn.tabIndex=0,pn=n[i].id,mn=o[i].getAttribute("aria-label")||""}(e.currentTarget),un=t,cn=n.type,gn=!0;const o=Array.from(xn.get(n.type)).filter((t=>t===un||!bn.get(t).dropFromOthersDisabled));if(Oe(o,(t=>bn.get(t).dropTargetStyle),(t=>bn.get(t).dropTargetClasses)),!n.autoAriaDisabled){let t=`Started dragging item ${mn}. Use the arrow keys to move it within its list ${hn}`;o.length>1&&(t+=", or tab to another list in order to move the item into it"),an(t)}xt(t,bn.get(t).items,{trigger:St,id:pn,source:qt}),Cn()}function s(t){gn&&t.currentTarget!==fn&&(t.stopPropagation(),Ln(!1),r(t))}function l({items:e=[],type:o="--any--",dragDisabled:r=!1,dropFromOthersDisabled:l=!1,dropTargetStyle:a=dn,dropTargetClasses:d=[],autoAriaDisabled:c=!1}){var u,f;n.items=[...e],n.dragDisabled=r,n.dropFromOthersDisabled=l,n.dropTargetStyle=a,n.dropTargetClasses=d,n.autoAriaDisabled=c,c||(t.setAttribute("aria-disabled",r),t.setAttribute("role","list"),t.setAttribute("aria-describedby",r?En.DND_ZONE_DRAG_DISABLED:En.DND_ZONE_ACTIVE)),n.type&&o!==n.type&&Dn(t,n.type),n.type=o,u=t,f=o,0===xn.size&&(window.addEventListener("keydown",kn),window.addEventListener("click",Tn)),xn.has(f)||xn.set(f,new Set),xn.get(f).has(u)||(xn.get(f).add(u),Ut()),bn.set(t,n),t.tabIndex=gn&&(t===un||fn.contains(t)||n.dropFromOthersDisabled||un&&n.type!==bn.get(un).type)?-1:0,t.addEventListener("focus",On);for(let e=0;e<t.children.length;e++){const o=t.children[e];vn.add(o),o.tabIndex=gn?-1:0,c||o.setAttribute("role","listitem"),o.removeEventListener("keydown",yn.get(o)),o.removeEventListener("click",$n.get(o)),r||(o.addEventListener("keydown",i),yn.set(o,i),o.addEventListener("click",s),$n.set(o,s)),gn&&n.items[e].id===pn&&(fn=o,fn.tabIndex=0,o.focus())}}l(e);const a={update:t=>{l(t)},destroy:()=>{Dn(t,n.type),bn.delete(t),wn.delete(t)}};return wn.set(t,a),a}function _n(t,e){Sn(e);const n=nn(t,e),o=An(t,e);return{update:t=>{Sn(t),n.update(t),o.update(t)},destroy:()=>{n.destroy(),o.destroy()}}}function Sn(t){const{items:e,flipDurationMs:n,type:o,dragDisabled:i,morphDisabled:r,dropFromOthersDisabled:s,dropTargetStyle:l,dropTargetClasses:a,transformDraggedElement:d,autoAriaDisabled:c,centreDraggedOnCursor:u,...f}=t;if(Object.keys(f).length>0&&console.warn("dndzone will ignore unknown options",f),!e)throw new Error("no 'items' key provided to dndzone");const p=e.find((t=>!{}.hasOwnProperty.call(t,Vt)));if(p)throw new Error(`missing 'id' property for item ${ce(p)}`);if(a&&!Array.isArray(a))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof a}, ${ce(a)}`)}function Mn(t){const e=t-1;return e*e*e+1}function jn(t,e,n={}){const o=getComputedStyle(t),i="none"===o.transform?"":o.transform,s=e.from.width/t.clientWidth,l=e.from.height/t.clientHeight,a=(e.from.left-e.to.left)/s,d=(e.from.top-e.to.top)/l,c=Math.sqrt(a*a+d*d),{delay:u=0,duration:f=(t=>120*Math.sqrt(t)),easing:p=Mn}=n;return{delay:u,duration:r(f)?f(c):f,easing:p,css:(t,e)=>`transform: ${i} translate(${e*a}px, ${e*d}px);`}}function Fn(e){let n,o,i,r,s,l,a,d,c,u;return{c(){n=y("div"),o=y("input"),r=b(),s=y("span"),l=w(e[2]),a=b(),d=y("span"),d.innerHTML='<span class="switch-handle svelte-1k39w1u"></span>',E(o,"name",e[1]),E(o,"type","hidden"),o.value=i=e[0]||"",E(s,"class","switch-label"),E(d,"class","switch-wrapper svelte-1k39w1u"),E(n,"class","switch-input svelte-1k39w1u"),T(n,"active",e[0])},m(t,i){m(t,n,i),h(n,o),h(n,r),h(n,s),h(s,l),h(n,a),h(n,d),c||(u=x(n,"click",e[3]),c=!0)},p(t,[e]){2&e&&E(o,"name",t[1]),1&e&&i!==(i=t[0]||"")&&(o.value=i),4&e&&D(l,t[2]),1&e&&T(n,"active",t[0])},i:t,o:t,d(t){t&&v(n),c=!1,u()}}}function Wn(t,e,n){let{name:o}=e,{value:i}=e,{label:r}=e;return t.$$set=t=>{"name"in t&&n(1,o=t.name),"value"in t&&n(0,i=t.value),"label"in t&&n(2,r=t.label)},[i,o,r,()=>n(0,i=!i)]}class Bn extends pt{constructor(t){super(),ft(this,t,Wn,Fn,s,{name:1,value:0,label:2})}}function Nn(t){let e,n,o;function i(e){t[2](e)}let r={name:t[1]+"negation",label:"NOT"};return void 0!==t[0]&&(r.value=t[0]),e=new Bn({props:r}),B.push((()=>lt(e,"value",i))),{c(){at(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p(t,[o]){const i={};2&o&&(i.name=t[1]+"negation"),!n&&1&o&&(n=!0,i.value=t[0],q((()=>n=!1))),e.$set(i)},i(t){o||(tt(e.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),o=!1},d(t){ct(e,t)}}}function In(t,e,n){let o;l(t,$t,(t=>n(1,o=t)));let{value:i=!1}=e;return t.$$set=t=>{"value"in t&&n(0,i=t.value)},[i,o,function(t){i=t,n(0,i)}]}class Pn extends pt{constructor(t){super(),ft(this,t,In,Nn,s,{value:0})}}var Rn;function zn(e){let n,o;return{c(){n=$("svg"),o=$("path"),E(o,"d","M1 1L5.5 5.5L10 1"),E(o,"stroke",e[0]),E(o,"stroke-width","2"),E(n,"width","11"),E(n,"height","7"),E(n,"viewBox","0 0 11 7"),E(n,"fill","none"),E(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){m(t,n,e),h(n,o)},p(t,[e]){1&e&&E(o,"stroke",t[0])},i:t,o:t,d(t){t&&v(n)}}}function qn(t,e,n){let{stroke:o="#0D121F"}=e;return t.$$set=t=>{"stroke"in t&&n(0,o=t.stroke)},[o]}!function(t){t.AND="AND",t.OR="OR"}(Rn||(Rn={}));class Hn extends pt{constructor(t){super(),ft(this,t,qn,zn,s,{stroke:0})}}function Xn(t,{delay:e=0,duration:n=400,easing:o=Mn}={}){const i=getComputedStyle(t),r=+i.opacity,s=parseFloat(i.height),l=parseFloat(i.paddingTop),a=parseFloat(i.paddingBottom),d=parseFloat(i.marginTop),c=parseFloat(i.marginBottom),u=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*r};height: ${t*s}px;padding-top: ${t*l}px;padding-bottom: ${t*a}px;margin-top: ${t*d}px;margin-bottom: ${t*c}px;border-top-width: ${t*u}px;border-bottom-width: ${t*f}px;`}}function Yn(t,e,n){const o=t.slice();return o[0]=e[n].value,o[12]=e[n].label,o}function Vn(t){let e,n,o,i=[],r=new Map,s=t[1];const l=t=>t[0];for(let e=0;e<s.length;e+=1){let n=Yn(t,s,e),o=l(n);r.set(o,i[e]=Zn(o,n))}return{c(){e=y("ul");for(let t=0;t<i.length;t+=1)i[t].c();E(e,"class","options svelte-1kyna6l")},m(t,n){m(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null);o=!0},p(t,n){258&n&&(s=t[1],i=st(i,n,l,1,t,s,r,e,it,Zn,null,Yn))},i(t){o||(z((()=>{n||(n=ot(e,Xn,{},!0)),n.run(1)})),o=!0)},o(t){n||(n=ot(e,Xn,{},!1)),n.run(0),o=!1},d(t){t&&v(e);for(let t=0;t<i.length;t+=1)i[t].d();t&&n&&n.end()}}}function Zn(t,e){let n,o,i,s,l=e[12]+"";return{key:t,first:null,c(){n=y("li"),o=w(l),E(n,"class","option svelte-1kyna6l"),this.first=n},m(t,l){m(t,n,l),h(n,o),i||(s=x(n,"click",(function(){r(e[8](e[0]))&&e[8](e[0]).apply(this,arguments)})),i=!0)},p(t,n){e=t,2&n&&l!==(l=e[12]+"")&&D(o,l)},d(t){t&&v(n),i=!1,s()}}}function Un(t){let e,n,o,r,s,l,a,d,c,u,f,p,g,$=(t[7]?t[7].label:t[4])+"";c=new Hn({});let k=t[6]&&Vn(t);return{c(){e=y("div"),n=y("input"),o=b(),r=y("div"),s=y("span"),l=w($),a=b(),d=y("i"),at(c.$$.fragment),u=b(),k&&k.c(),E(n,"type","hidden"),E(n,"name",t[2]),n.value=t[0],E(s,"class","label svelte-1kyna6l"),T(s,"placeholder",!t[7]),E(d,"class","caret-icon svelte-1kyna6l"),E(r,"class","selected-value svelte-1kyna6l"),E(e,"class","pseudo-select svelte-1kyna6l"),T(e,"full-width",t[5]),T(e,"disabled",t[3])},m(i,v){m(i,e,v),h(e,n),h(e,o),h(e,r),h(r,s),h(s,l),h(r,a),h(r,d),dt(c,d,null),h(e,u),k&&k.m(e,null),f=!0,p||(g=[x(e,"click",t[9]),x(e,"mouseleave",t[10])],p=!0)},p(t,[o]){(!f||4&o)&&E(n,"name",t[2]),(!f||1&o)&&(n.value=t[0]),(!f||144&o)&&$!==($=(t[7]?t[7].label:t[4])+"")&&D(l,$),128&o&&T(s,"placeholder",!t[7]),t[6]?k?(k.p(t,o),64&o&&tt(k,1)):(k=Vn(t),k.c(),tt(k,1),k.m(e,null)):k&&(K(),et(k,1,1,(()=>{k=null})),Q()),32&o&&T(e,"full-width",t[5]),8&o&&T(e,"disabled",t[3])},i(t){f||(tt(c.$$.fragment,t),tt(k),f=!0)},o(t){et(c.$$.fragment,t),et(k),f=!1},d(t){t&&v(e),ct(c),k&&k.d(),p=!1,i(g)}}}function Gn(t,e,n){let o;const i=F();let{options:r}=e,{name:s}=e,{disabled:l=!1}=e,{placeholder:a=""}=e,{value:d=null}=e,{fullWidth:c=!1}=e,u=!1;return t.$$set=t=>{"options"in t&&n(1,r=t.options),"name"in t&&n(2,s=t.name),"disabled"in t&&n(3,l=t.disabled),"placeholder"in t&&n(4,a=t.placeholder),"value"in t&&n(0,d=t.value),"fullWidth"in t&&n(5,c=t.fullWidth)},t.$$.update=()=>{3&t.$$.dirty&&n(7,o=r.find((({value:t})=>t===d)))},[d,r,s,l,a,c,u,o,t=>()=>{n(0,d=t),i("change",{value:d})},()=>n(6,u=!u),()=>n(6,u=!1)]}class Jn extends pt{constructor(t){super(),ft(this,t,Gn,Un,s,{options:1,name:2,disabled:3,placeholder:4,value:0,fullWidth:5})}}function Kn(t){let e,n,o,i;function r(e){t[4](e)}let s={options:t[3],disabled:t[1],fullWidth:!0,name:t[2]+"junction"};return void 0!==t[0]&&(s.value=t[0]),n=new Jn({props:s}),B.push((()=>lt(n,"value",r))),{c(){e=y("div"),at(n.$$.fragment),E(e,"class","junction-input svelte-19km4y0")},m(t,o){m(t,e,o),dt(n,e,null),i=!0},p(t,[e]){const i={};2&e&&(i.disabled=t[1]),4&e&&(i.name=t[2]+"junction"),!o&&1&e&&(o=!0,i.value=t[0],q((()=>o=!1))),n.$set(i)},i(t){i||(tt(n.$$.fragment,t),i=!0)},o(t){et(n.$$.fragment,t),i=!1},d(t){t&&v(e),ct(n)}}}function Qn(t,e,n){let o;l(t,$t,(t=>n(2,o=t)));let{disabled:i}=e,{value:r=Rn.AND}=e,s=[...Object.values(Rn)].map((t=>({value:t,label:t})));return t.$$set=t=>{"disabled"in t&&n(1,i=t.disabled),"value"in t&&n(0,r=t.value)},[r,i,o,s,function(t){r=t,n(0,r)}]}class to extends pt{constructor(t){super(),ft(this,t,Qn,Kn,s,{disabled:1,value:0})}}function eo(t){let e,n,o,i;function r(e){t[3](e)}let s={options:t[2],name:t[1]+"type",fullWidth:!0};return void 0!==t[0]&&(s.value=t[0]),n=new Jn({props:s}),B.push((()=>lt(n,"value",r))),n.$on("change",t[4]),{c(){e=y("div"),at(n.$$.fragment),E(e,"class","type-input svelte-18f44pc")},m(t,o){m(t,e,o),dt(n,e,null),i=!0},p(t,[e]){const i={};2&e&&(i.name=t[1]+"type"),!o&&1&e&&(o=!0,i.value=t[0],q((()=>o=!1))),n.$set(i)},i(t){i||(tt(n.$$.fragment,t),i=!0)},o(t){et(n.$$.fragment,t),i=!1},d(t){t&&v(e),ct(n)}}}function no(t,e,n){let o;l(t,$t,(t=>n(1,o=t)));let{value:i}=e,r=[...Object.entries(mt.definitions)].filter((([,{hidden:t}])=>!t)).map((([t,{label:e}])=>({value:t,label:e})));return t.$$set=t=>{"value"in t&&n(0,i=t.value)},[i,o,r,function(t){i=t,n(0,i)},function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}class oo extends pt{constructor(t){super(),ft(this,t,no,eo,s,{value:0})}}function io(e){let n,o,i,r;return{c(){n=y("input"),E(n,"name",o=e[2]+"value"),E(n,"type","text"),E(n,"placeholder",e[1]),E(n,"class","svelte-16dbqpn")},m(t,o){m(t,n,o),k(n,e[0].value),i||(r=x(n,"input",e[3]),i=!0)},p(t,[e]){4&e&&o!==(o=t[2]+"value")&&E(n,"name",o),2&e&&E(n,"placeholder",t[1]),1&e&&n.value!==t[0].value&&k(n,t[0].value)},i:t,o:t,d(t){t&&v(n),i=!1,r()}}}function ro(t,e,n){let o;l(t,$t,(t=>n(2,o=t)));let{placeholder:i=""}=e,{field:r}=e;return t.$$set=t=>{"placeholder"in t&&n(1,i=t.placeholder),"field"in t&&n(0,r=t.field)},[r,i,o,function(){r.value=this.value,n(0,r)}]}class so extends pt{constructor(t){super(),ft(this,t,ro,io,s,{placeholder:1,field:0})}}function lo(t){let e,n,o;function i(e){t[4](e)}let r={options:t[2],name:t[3]+"value",placeholder:t[1]};return void 0!==t[0].value&&(r.value=t[0].value),e=new Jn({props:r}),B.push((()=>lt(e,"value",i))),{c(){at(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p(t,[o]){const i={};4&o&&(i.options=t[2]),8&o&&(i.name=t[3]+"value"),2&o&&(i.placeholder=t[1]),!n&&1&o&&(n=!0,i.value=t[0].value,q((()=>n=!1))),e.$set(i)},i(t){o||(tt(e.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),o=!1},d(t){ct(e,t)}}}function ao(t,e,n){let o;l(t,$t,(t=>n(3,o=t)));let{placeholder:i=""}=e,{options:r}=e,{field:s}=e;return t.$$set=t=>{"placeholder"in t&&n(1,i=t.placeholder),"options"in t&&n(2,r=t.options),"field"in t&&n(0,s=t.field)},[s,i,r,o,function(e){t.$$.not_equal(s.value,e)&&(s.value=e,n(0,s))}]}class co extends pt{constructor(t){super(),ft(this,t,ao,lo,s,{placeholder:1,options:2,field:0})}}function uo(e){let n,o,i,r,s,l,a,d,c;return{c(){n=$("svg"),o=$("circle"),i=$("circle"),r=$("circle"),s=$("circle"),l=$("circle"),a=$("circle"),d=$("circle"),c=$("circle"),E(o,"cx","1.5"),E(o,"cy","1.5"),E(o,"r","1.5"),E(o,"fill",e[0]),E(i,"cx","1.5"),E(i,"cy","11.5"),E(i,"r","1.5"),E(i,"fill",e[0]),E(r,"cx","1.5"),E(r,"cy","6.5"),E(r,"r","1.5"),E(r,"fill",e[0]),E(s,"cx","1.5"),E(s,"cy","16.5"),E(s,"r","1.5"),E(s,"fill",e[0]),E(l,"cx","6.5"),E(l,"cy","1.5"),E(l,"r","1.5"),E(l,"fill",e[0]),E(a,"cx","6.5"),E(a,"cy","11.5"),E(a,"r","1.5"),E(a,"fill",e[0]),E(d,"cx","6.5"),E(d,"cy","6.5"),E(d,"r","1.5"),E(d,"fill",e[0]),E(c,"cx","6.5"),E(c,"cy","16.5"),E(c,"r","1.5"),E(c,"fill",e[0]),E(n,"width","8"),E(n,"height","18"),E(n,"viewBox","0 0 8 18"),E(n,"fill","none"),E(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){m(t,n,e),h(n,o),h(n,i),h(n,r),h(n,s),h(n,l),h(n,a),h(n,d),h(n,c)},p(t,[e]){1&e&&E(o,"fill",t[0]),1&e&&E(i,"fill",t[0]),1&e&&E(r,"fill",t[0]),1&e&&E(s,"fill",t[0]),1&e&&E(l,"fill",t[0]),1&e&&E(a,"fill",t[0]),1&e&&E(d,"fill",t[0]),1&e&&E(c,"fill",t[0])},i:t,o:t,d(t){t&&v(n)}}}function fo(t,e,n){let{stroke:o="#C4C4C4"}=e;return t.$$set=t=>{"stroke"in t&&n(0,o=t.stroke)},[o]}class po extends pt{constructor(t){super(),ft(this,t,fo,uo,s,{stroke:0})}}function go(e){let n;return{c(){n=y("strong"),n.textContent="Unsupported field type"},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function ho(t){let e,n,o;function i(e){t[6](e)}let r={options:t[2].options,placeholder:t[2].placeholder};return void 0!==t[0]&&(r.field=t[0]),e=new co({props:r}),B.push((()=>lt(e,"field",i))),{c(){at(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p(t,o){const i={};4&o&&(i.options=t[2].options),4&o&&(i.placeholder=t[2].placeholder),!n&&1&o&&(n=!0,i.field=t[0],q((()=>n=!1))),e.$set(i)},i(t){o||(tt(e.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),o=!1},d(t){ct(e,t)}}}function mo(t){let e,n,o;function i(e){t[5](e)}let r={placeholder:t[2].placeholder};return void 0!==t[0]&&(r.field=t[0]),e=new so({props:r}),B.push((()=>lt(e,"field",i))),{c(){at(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p(t,o){const i={};4&o&&(i.placeholder=t[2].placeholder),!n&&1&o&&(n=!0,i.field=t[0],q((()=>n=!1))),e.$set(i)},i(t){o||(tt(e.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),o=!1},d(t){ct(e,t)}}}function vo(t){let e,n,o,i,r,s,l,a,d,c,u,f,p,g,$,w,D,k,T,O,C;o=new po({});const L=[mo,ho,go],A=[];function _(t,e){return"text"===t[2].type?0:"select"===t[2].type?1:2}function S(e){t[7](e)}s=_(t),l=A[s]=L[s](t);let M={};function j(e){t[8](e)}void 0!==t[0].negation&&(M.value=t[0].negation),d=new Pn({props:M}),B.push((()=>lt(d,"value",S)));let F={};function W(e){t[9](e)}void 0!==t[0].type&&(F.value=t[0].type),f=new oo({props:F}),B.push((()=>lt(f,"value",j))),f.$on("change",t[4]);let N={disabled:t[1]};return void 0!==t[0].junction&&(N.value=t[0].junction),$=new to({props:N}),B.push((()=>lt($,"value",W))),{c(){e=y("div"),n=y("i"),at(o.$$.fragment),i=b(),r=y("div"),l.c(),a=b(),at(d.$$.fragment),u=b(),at(f.$$.fragment),g=b(),at($.$$.fragment),D=b(),k=y("button"),k.textContent="×",E(n,"class","drag-handle svelte-19culav"),E(r,"class","input svelte-19culav"),E(k,"class","remove-field svelte-19culav"),E(e,"class","composite-field svelte-19culav")},m(l,c){m(l,e,c),h(e,n),dt(o,n,null),h(e,i),h(e,r),A[s].m(r,null),h(e,a),dt(d,e,null),h(e,u),dt(f,e,null),h(e,g),dt($,e,null),h(e,D),h(e,k),T=!0,O||(C=x(k,"click",t[3]),O=!0)},p(t,[e]){let n=s;s=_(t),s===n?A[s].p(t,e):(K(),et(A[n],1,1,(()=>{A[n]=null})),Q(),l=A[s],l?l.p(t,e):(l=A[s]=L[s](t),l.c()),tt(l,1),l.m(r,null));const o={};!c&&1&e&&(c=!0,o.value=t[0].negation,q((()=>c=!1))),d.$set(o);const i={};!p&&1&e&&(p=!0,i.value=t[0].type,q((()=>p=!1))),f.$set(i);const a={};2&e&&(a.disabled=t[1]),!w&&1&e&&(w=!0,a.value=t[0].junction,q((()=>w=!1))),$.$set(a)},i(t){T||(tt(o.$$.fragment,t),tt(l),tt(d.$$.fragment,t),tt(f.$$.fragment,t),tt($.$$.fragment,t),T=!0)},o(t){et(o.$$.fragment,t),et(l),et(d.$$.fragment,t),et(f.$$.fragment,t),et($.$$.fragment,t),T=!1},d(t){t&&v(e),ct(o),A[s].d(),ct(d),ct(f),ct($),O=!1,C()}}}function yo(t,e,n){let o;const i=F();let{field:r}=e,{isLast:s=!1}=e;return t.$$set=t=>{"field"in t&&n(0,r=t.field),"isLast"in t&&n(1,s=t.isLast)},t.$$.update=()=>{1&t.$$.dirty&&n(2,o=mt.definitions[r.type])},[r,s,o,()=>i("remove"),()=>n(0,r.value=null,r),function(t){r=t,n(0,r)},function(t){r=t,n(0,r)},function(e){t.$$.not_equal(r.negation,e)&&(r.negation=e,n(0,r))},function(e){t.$$.not_equal(r.type,e)&&(r.type=e,n(0,r))},function(e){t.$$.not_equal(r.junction,e)&&(r.junction=e,n(0,r))}]}class $o extends pt{constructor(t){super(),ft(this,t,yo,vo,s,{field:0,isLast:1})}}function wo(t,e,n){const o=t.slice();return o[8]=e[n],o[9]=e,o[10]=n,o}function bo(n,o){let i,r,s,l,a,d,u=t;function f(t){o[6](t,o[8],o[9],o[10])}let p={isLast:o[10]==o[0].length-1};return void 0!==o[8]&&(p.field=o[8]),r=new $o({props:p}),B.push((()=>lt(r,"field",f))),r.$on("remove",(function(){return o[7](o[10])})),{key:n,first:null,c(){i=y("div"),at(r.$$.fragment),l=b(),this.first=i},m(t,e){m(t,i,e),dt(r,i,null),h(i,l),d=!0},p(t,e){o=t;const n={};1&e&&(n.isLast=o[10]==o[0].length-1),!s&&1&e&&(s=!0,n.field=o[8],q((()=>s=!1))),r.$set(n)},r(){a=i.getBoundingClientRect()},f(){M(i),u()},a(){u(),u=function(n,o,i,r){if(!o)return t;const s=n.getBoundingClientRect();if(o.left===s.left&&o.right===s.right&&o.top===s.top&&o.bottom===s.bottom)return t;const{delay:l=0,duration:a=300,easing:d=e,start:u=c()+l,end:f=u+a,tick:p=t,css:h}=i(n,{from:o,to:s},r);let m,v=!0,y=!1;function $(){h&&S(n,m),v=!1}return g((t=>{if(!y&&t>=u&&(y=!0),y&&t>=f&&(p(1,0),$()),!v)return!1;if(y){const e=0+1*d((t-u)/a);p(e,1-e)}return!0})),h&&(m=_(n,0,1,a,l,d,h)),l||(y=!0),p(0,1),$}(i,a,jn,{duration:300})},i(t){d||(tt(r.$$.fragment,t),d=!0)},o(t){et(r.$$.fragment,t),d=!1},d(t){t&&v(i),ct(r)}}}function xo(e){let n,o,s,l,a,d,c,u,f=[],p=new Map,g=e[0];const $=t=>t[8];for(let t=0;t<g.length;t+=1){let n=wo(e,g,t),o=$(n);p.set(o,f[t]=bo(o,n))}return{c(){n=y("div"),o=y("div");for(let t=0;t<f.length;t+=1)f[t].c();l=b(),a=y("button"),a.innerHTML="<strong>+</strong>\n    Add search field",E(a,"class","add-field svelte-2l1e64"),E(n,"class","composite-form")},m(i,p){m(i,n,p),h(n,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);var g;h(n,l),h(n,a),d=!0,c||(u=[(g=s=_n.call(null,o,{items:e[0],flipDurationMs:Eo,dropTargetStyle:e[1]}),g&&r(g.destroy)?g.destroy:t),x(o,"consider",e[4]),x(o,"finalize",e[5]),x(a,"click",e[2])],c=!0)},p(t,[e]){if(9&e){g=t[0],K();for(let t=0;t<f.length;t+=1)f[t].r();f=st(f,e,$,1,t,g,p,o,rt,bo,null,wo);for(let t=0;t<f.length;t+=1)f[t].a();Q()}s&&r(s.update)&&1&e&&s.update.call(null,{items:t[0],flipDurationMs:Eo,dropTargetStyle:t[1]})},i(t){if(!d){for(let t=0;t<g.length;t+=1)tt(f[t]);d=!0}},o(t){for(let t=0;t<f.length;t+=1)et(f[t]);d=!1},d(t){t&&v(n);for(let t=0;t<f.length;t+=1)f[t].d();c=!1,i(u)}}}const Eo=300;function Do(t,e,n){let o;l(t,yt,(t=>n(0,o=t)));const i=t=>{yt.remove(t),o.length||yt.addDefault()};return[o,{},()=>{yt.addDefault()},i,function(t){a(yt,o=t.detail.items,o)},function(t){a(yt,o=t.detail.items,o)},function(t,e,n,i){n[i]=t,yt.set(o)},t=>i(t)]}class ko extends pt{constructor(t){super(),ft(this,t,Do,xo,s,{})}}function To(t){let e,n;return e=new ko({}),{c(){at(e.$$.fragment)},m(t,o){dt(e,t,o),n=!0},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Oo(t){let e,n,o=t[0]&&To();return{c(){o&&o.c(),e=w("")},m(t,i){o&&o.m(t,i),m(t,e,i),n=!0},p(t,[n]){t[0]?o?1&n&&tt(o,1):(o=To(),o.c(),tt(o,1),o.m(e.parentNode,e)):o&&(K(),et(o,1,1,(()=>{o=null})),Q())},i(t){n||(tt(o),n=!0)},o(t){et(o),n=!1},d(t){o&&o.d(t),t&&v(e)}}}function Co(t,e,n){let o;l(t,vt,(t=>n(0,o=t)));let{definitions:i={}}=e;return mt.setDefinitions(i),t.$$set=t=>{"definitions"in t&&n(1,i=t.definitions)},[o,i]}return{App:class extends pt{constructor(t){super(),ft(this,t,Co,Oo,s,{definitions:1})}},stores:wt}}();
