Metadata-Version: 2.1
Name: Yucebio-Wdladaptor
Version: 0.0.7
Summary: Yucebio Wdl适配器
Home-page: UNKNOWN
Author: huangqingjun
Author-email: huangqingjun@yucebio.com
License: MIT
Platform: UNKNOWN
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: Implementation :: CPython
Classifier: Programming Language :: Python :: Implementation :: PyPy
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: icecream (~=2.1.0)
Requires-Dist: Yucebio-Config (>=0.0.5)
Requires-Dist: click
Requires-Dist: requests

# Yucebio Wdl适配器

- 根据不同云平台的Cromwell基础设施将通用的workflow内容转换适合对应平台的版本
- 已经支持的云
    - Yucebio 本地SGE集群
    - 阿里云批量计算平台
    - 亚马逊云Batch平台

# 安装

```bash
# 初始化环境，如通过conda初始化python>=3.8的环境
conda create -n python3.8 python=3.8

# 安装依赖包
pip install click icecream requests
# 安装
pip install -i https://test.pypi.org/simple/ Yucebio-Wdladaptor
```

# 配置(基于Yucebio-Config，配置文件在~/.yucebioconfig/...)

```bash
# 查看使用方式
yucebio_wdl_adaptor --help

# 设置指定平台的配置信息
yucebio_wdl_adaptor config -p <platform> -g <global_path> -s <simg_path> -h <host>
# -p --platform     需要设置的平台
# -h --host         待设置平台的cromwell api地址，如 http://host:port
# -g --global_path  公共文件路径，用于替换输入文件中的__GLOBAL__
# -s --simg_path    singularity镜像路径，用于替换输入文件中的__SIMG__
```

# 转换wdl到指定平台
```bash
yucebio_wdl_adaptor convert -p <platform> -i <json> [--submit|-s] <WDL>
# -i --input    JSON文件路径
# -p --platform 平台名称
# -s --submit   是否直接投递任务【default:False】
# WDL           workflow文件路径
```

