

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyspatialml: machine learning for raster datasets &mdash; Pyspatialml 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pyspatialml.datasets package" href="pyspatialml.datasets.html" />
    <link rel="prev" title="pyspatialml" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Pyspatialml
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlworkflow.html">A Machine Learning Example</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="geoprocessing.html">Raster Geoprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="geoprocessing.html#raster-algebra">Raster Algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling.html">Random Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformers.html">Transformers</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">pyspatialml</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">pyspatialml: machine learning for raster datasets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pyspatialml.datasets.html">pyspatialml.datasets package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-pyspatialml.plotting">pyspatialml.plotting module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pyspatialml.raster">pyspatialml.raster module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pyspatialml.rasterlayer">pyspatialml.rasterlayer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pyspatialml.transformers">pyspatialml.transformers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pyspatialml.vector">pyspatialml.vector module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Pyspatialml</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">pyspatialml</a> &raquo;</li>
        
      <li>pyspatialml: machine learning for raster datasets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pyspatialml.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pyspatialml-machine-learning-for-raster-datasets">
<h1>pyspatialml: machine learning for raster datasets<a class="headerlink" href="#pyspatialml-machine-learning-for-raster-datasets" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyspatialml.datasets.html">pyspatialml.datasets package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspatialml.datasets.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pyspatialml.datasets.html#module-pyspatialml.datasets.meuse">pyspatialml.datasets.meuse module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyspatialml.datasets.html#module-pyspatialml.datasets.nc">pyspatialml.datasets.nc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyspatialml.datasets.html#module-pyspatialml.datasets">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-pyspatialml.plotting">
<span id="pyspatialml-plotting-module"></span><h3>pyspatialml.plotting module<a class="headerlink" href="#module-pyspatialml.plotting" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="pyspatialml.plotting.RasterPlot">
<em class="property">class </em><code class="sig-prename descclassname">pyspatialml.plotting.</code><code class="sig-name descname">RasterPlot</code><a class="headerlink" href="#pyspatialml.plotting.RasterPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="pyspatialml.plotting.RasterPlot.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">norm</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">out_shape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title_fontsize</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">label_fontsize</span><span class="o">=</span><span class="default_value">6</span></em>, <em class="sig-param"><span class="n">legend_fontsize</span><span class="o">=</span><span class="default_value">6</span></em>, <em class="sig-param"><span class="n">names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fig_kwds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">legend_kwds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">subplots_kwds</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.plotting.RasterPlot.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a Raster object as a raster matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmap</strong> (<em>str</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=None</em>) – Specify a single cmap to apply to all of the RasterLayers.
This overides the cmap attribute of each RasterLayer.</p></li>
<li><p><strong>norm</strong> (<em>matplotlib.colors.Normalize</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=None</em>) – A matplotlib.colors.Normalize to apply to all of the RasterLayers.
This overides the norm attribute of each RasterLayer.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=None</em>) – Size of the resulting matplotlib.figure.Figure.</p></li>
<li><p><strong>out_shape</strong> (<em>tuple</em><em>, </em><em>default=</em><em>(</em><em>100</em><em>, </em><em>100</em><em>)</em>) – Number of rows, cols to read from the raster datasets for plotting.</p></li>
<li><p><strong>title_fontsize</strong> (<em>any number</em><em>, </em><em>default=8</em>) – Size in pts of titles.</p></li>
<li><p><strong>label_fontsize</strong> (<em>any number</em><em>, </em><em>default=6</em>) – Size in pts of axis ticklabels.</p></li>
<li><p><strong>legend_fontsize</strong> (<em>any number</em><em>, </em><em>default=6</em>) – Size in pts of legend ticklabels.</p></li>
<li><p><strong>names</strong> (<em>list</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=None</em>) – Optionally supply a list of names for each RasterLayer to override the
default layer names for the titles.</p></li>
<li><p><strong>fig_kwds</strong> (<em>dict</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=None</em>) – Additional arguments to pass to the matplotlib.pyplot.figure call when
creating the figure object.</p></li>
<li><p><strong>legend_kwds</strong> (<em>dict</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=None</em>) – Additional arguments to pass to the matplotlib.pyplot.colorbar call when
creating the colorbar object.</p></li>
<li><p><strong>subplots_kwds</strong> (<em>dict</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=None</em>) – Additional arguments to pass to the matplotlib.pyplot.subplots_adjust
function. These are used to control the spacing and position of each
subplot, and can include
{left=None, bottom=None, right=None, top=None, wspace=None, hspace=None}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>axs</strong> – array of matplotlib.axes._subplots.AxesSubplot or a single
matplotlib.axes._subplots.AxesSubplot if Raster object contains only a
single layer.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pyspatialml.plotting.discrete_cmap">
<code class="sig-prename descclassname">pyspatialml.plotting.</code><code class="sig-name descname">discrete_cmap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">N</span></em>, <em class="sig-param"><span class="n">base_cmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.plotting.discrete_cmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an N-bin discrete colormap from the specified input map.</p>
<p>Source:
<a class="reference external" href="https://gist.github.com/jakevdp/91077b0cae40f8f8244a">https://gist.github.com/jakevdp/91077b0cae40f8f8244a</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> (<em>int</em>) – The number of colors in the colormap</p></li>
<li><p><strong>base_cmap</strong> (<em>str</em>) – The name of the matplotlib cmap to convert into a discrete map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The cmap converted to a discrete map.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib.cmap</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyspatialml.plotting.rasterio_normalize">
<code class="sig-prename descclassname">pyspatialml.plotting.</code><code class="sig-name descname">rasterio_normalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.plotting.rasterio_normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales an array using min-max scaling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>ndarray</em>) – A numpy array containing the image data.</p></li>
<li><p><strong>axis</strong> (<em>int</em><em> (</em><em>opt</em><em>)</em>) – The axis to perform the normalization along.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The normalized array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyspatialml.plotting.shiftedColorMap">
<code class="sig-prename descclassname">pyspatialml.plotting.</code><code class="sig-name descname">shiftedColorMap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmap</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">midpoint</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">stop</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'shiftedcmap'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.plotting.shiftedColorMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to offset the “center” of a colormap. Useful for data with a negative
min and positive max and you want the middle of the colormap’s dynamic range to be
at zero.</p>
<p>Source:
<a class="reference external" href="http://stackoverflow.com/questions/7404116/defining-the-midpoint-of-a-colormap-in-matplotlib">http://stackoverflow.com/questions/7404116/defining-the-midpoint-of-a-colormap-in-matplotlib</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmap</strong> (<em>str</em>) – The matplotlib colormap to be altered</p></li>
<li><p><strong>start</strong> (<em>any number</em>) – Offset from lowest point in the colormap’s range. Defaults to 0.0 (no lower
offset). Should be between 0.0 and <cite>midpoint</cite>.</p></li>
<li><p><strong>midpoint</strong> (<em>any number between 0.0 and 1.0</em>) – The new center of the colormap. Defaults to 0.5 (no shift). In general, this
should be  1 - vmax/(vmax + abs(vmin)). For example if your data range from
-15.0 to +5.0 and you want the center of the colormap at 0.0, <cite>midpoint</cite> should
be set to  1 - 5/(5 + 15)) or 0.75.</p></li>
<li><p><strong>stop</strong> (any number between <cite>midpoint</cite> and 1.0) – Offset from highets point in the colormap’s range. Defaults to 1.0 (no upper
offset).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The colormap with its centre shifted to the midpoint value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib.cmap</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pyspatialml.raster">
<span id="pyspatialml-raster-module"></span><h3>pyspatialml.raster module<a class="headerlink" href="#module-pyspatialml.raster" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="pyspatialml.raster.Raster">
<em class="property">class </em><code class="sig-prename descclassname">pyspatialml.raster.</code><code class="sig-name descname">Raster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="n">crs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">transform</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'r'</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tempdir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspatialml.plotting.RasterPlot" title="pyspatialml.plotting.RasterPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspatialml.plotting.RasterPlot</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pyspatialml.rasterbase.BaseRaster</span></code></p>
<p>Creates a collection of file-based GDAL-supported raster datasets that
share a common coordinate reference system and geometry.</p>
<p>Raster objects encapsulate RasterLayer objects, which represent single band
raster datasets that can physically be represented by either separate
single-band raster files, multi-band raster files, or any combination of
individual bands from multi-band raster and single-band raster datasets.</p>
<p>Methods defined in a Raster class comprise those that would typically
applied to a stack of raster datasets. In addition, these methods always
return a new Raster object.</p>
<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.loc">
<code class="sig-name descname">loc</code><a class="headerlink" href="#pyspatialml.raster.Raster.loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Access pyspatialml.RasterLayer objects within a Raster using a key
or a list of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>_LocIndexer object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.iloc">
<code class="sig-name descname">iloc</code><a class="headerlink" href="#pyspatialml.raster.Raster.iloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Access pyspatialml.RasterLayer objects using an index position. A
wrapper around _LocIndexer to enable integer-based indexing of the
items in the OrderedDict. Setting and getting items can occur using
a single index position, a list or tuple of positions, or a slice
of positions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>_ILocIndexer object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.files">
<code class="sig-name descname">files</code><a class="headerlink" href="#pyspatialml.raster.Raster.files" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the raster dataset files that are used in the Raster.
This does not have to be the same length as the number of
RasterLayers because some files may have multiple bands.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.dtypes">
<code class="sig-name descname">dtypes</code><a class="headerlink" href="#pyspatialml.raster.Raster.dtypes" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of numpy dtypes for each RasterLayer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.nodatavals">
<code class="sig-name descname">nodatavals</code><a class="headerlink" href="#pyspatialml.raster.Raster.nodatavals" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the nodata values for each RasterLayer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.count">
<code class="sig-name descname">count</code><a class="headerlink" href="#pyspatialml.raster.Raster.count" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of RasterLayers in the Raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.res">
<code class="sig-name descname">res</code><a class="headerlink" href="#pyspatialml.raster.Raster.res" title="Permalink to this definition">¶</a></dt>
<dd><p>The resolution in (x, y) dimensions of the Raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.meta">
<code class="sig-name descname">meta</code><a class="headerlink" href="#pyspatialml.raster.Raster.meta" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict containing the raster metadata. The dict contains the
following keys/values:</p>
<p>crs : the crs object
transform : the Affine.affine transform object
width : width of the Raster in pixels
height : height of the Raster in pixels
count : number of RasterLayers within the Raster
dtype : the numpy datatype that represents lowest common</p>
<blockquote>
<div><p>denominator of the different dtypes for all of the layers
in the Raster.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.names">
<code class="sig-name descname">names</code><a class="headerlink" href="#pyspatialml.raster.Raster.names" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the RasterLayer names.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.block_shape">
<code class="sig-name descname">block_shape</code><a class="headerlink" href="#pyspatialml.raster.Raster.block_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The default block_shape in (rows, cols) for reading windows of data
in the Raster for out-of-memory processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.tempdir">
<code class="sig-name descname">tempdir</code><a class="headerlink" href="#pyspatialml.raster.Raster.tempdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a directory to store temporary files that are produced
during geoprocessing operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str, default is tempfile.tempdir</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.raster.Raster.in_memory">
<code class="sig-name descname">in_memory</code><a class="headerlink" href="#pyspatialml.raster.Raster.in_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to initiated the Raster from an array and store the data
in-memory using Rasterio’s in-memory files.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool, default is False</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.aggregate">
<code class="sig-name descname">aggregate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out_shape</span></em>, <em class="sig-param"><span class="n">resampling</span><span class="o">=</span><span class="default_value">'nearest'</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a raster to (usually) a coarser grid cell size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_shape</strong> (<em>tuple</em>) – New shape in (rows, cols).</p></li>
<li><p><strong>resampling</strong> (<em>str</em><em> (</em><em>default 'nearest'</em><em>)</em>) – Resampling method to use when applying decimated reads when
out_shape is specified. Supported methods are: ‘average’,
‘bilinear’, ‘cubic’, ‘cubic_spline’, ‘gauss’, ‘lanczos’, ‘max’,
‘med’, ‘min’, ‘mode’, ‘q1’, ‘q3’.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – File path to save to cropped raster. If not supplied then the
aggregated raster is saved to a temporary file.</p></li>
<li><p><strong>in_memory</strong> (<em>bool</em><em>, </em><em>default is False</em>) – Whether to initiated the Raster from an array and store the data
in-memory using Rasterio’s in-memory files.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then
the new intersected Raster is created using the dtype of the
existing Raster dataset, which uses a dtype that can accommodate
the data types of all of the individual RasterLayers.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value
is set based on the minimum permissible value of the Raster’s
dtype. Note that this does not change the pixel nodata values of
the raster, it only changes the metadata of what value represents
a nodata pixel.</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster object aggregated to a new pixel size.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em>, <em class="sig-param"><span class="n">in_place</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to add new RasterLayers to a Raster object.</p>
<p>Note that this modifies the Raster object in-place by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>other</strong> (<em>Raster object</em><em>, or </em><em>list of Raster objects</em>) – Object to append to the Raster.</p></li>
<li><p><strong>in_place</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Whether to change the Raster object in-place or leave original and
return a new Raster object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returned only if <cite>in_place</cite> is False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">function</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">n_jobs</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">function_args</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply user-supplied function to a Raster object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<em>function</em>) – Function that takes an numpy array as a single argument.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optional path to save calculated Raster object. If not specified
then a tempfile is used.</p></li>
<li><p><strong>in_memory</strong> (<em>bool</em><em>, </em><em>default is False</em>) – Whether to initiated the Raster from an array and store the data
in-memory using Rasterio’s in-memory files.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then
the new Raster is created using the dtype of the calculation
result.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value
is set based on the minimum permissible value of the Raster’s data
type. Note that this changes the values of the pixels that
represent nodata pixels.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em> (</em><em>default 1</em><em>)</em>) – Number of processing cores to use for parallel execution. Default
of -1 is all cores.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Optionally show progress of transform operations.</p></li>
<li><p><strong>function_args</strong> (<em>dict</em><em> (</em><em>optional</em><em>)</em>) – Optionally pass arguments to the <cite>function</cite> as a dict or keyword
arguments.</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster containing the calculated result.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a shallow copy of a Raster object</p>
<p>Note that shallow in the context of a Raster object means that an
immutable copy of the object is made, however the on-disk file
locations remain the same.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.crop">
<code class="sig-name descname">crop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bounds</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Crops a Raster object by the supplied bounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds</strong> (<em>tuple</em>) – A tuple containing the bounding box to clip by in the form of
(xmin, ymin, xmax, ymax).</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – File path to save to cropped raster. If not supplied then the
cropped raster is saved to a temporary file.</p></li>
<li><p><strong>in_memory</strong> (<em>bool</em><em>, </em><em>default is False</em>) – Whether to initiated the Raster from an array and store the data
in-memory using Rasterio’s in-memory files.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em><em> Default is 'GTiff'</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then
the new intersected Raster is created using the dtype of the
existing Raster dataset, which uses a dtype that can accommodate
the data types of all of the individual RasterLayers.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value
is set based on the minimum permissible value of the Raster’s data
type. Note that this does not change the pixel nodata values of the
raster, it only changes the metadata of what value represents a
nodata pixel.</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster cropped to new extent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.drop">
<code class="sig-name descname">drop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">labels</span></em>, <em class="sig-param"><span class="n">in_place</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop individual RasterLayers from a Raster object</p>
<p>Note that this modifies the Raster object in-place by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> (<em>single label</em><em> or </em><em>list-like</em>) – Index (int) or layer name to drop. Can be a single integer or
label, or a list of integers or labels.</p></li>
<li><p><strong>in_place</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Whether to change the Raster object in-place or leave original and
return a new Raster object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returned only if <cite>in_place</cite> is True</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.extract_raster">
<code class="sig-name descname">extract_raster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="n">return_array</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.extract_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a Raster object by an aligned raster of labelled pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>rasterio DatasetReader</em>) – Single band raster containing labelled pixels as an open rasterio
DatasetReader object.</p></li>
<li><p><strong>return_array</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=False</em>) – By default the extracted pixel values are returned as a
geopandas.GeoDataFrame. If <cite>return_array=True</cite> then the extracted
pixel values are returned as a tuple of numpy.ndarrays.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=False</em>) – Show a progress bar for extraction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>geopandas.GeoDataFrame</em> – Geodataframe containing extracted data as point features if
<cite>return_array=False</cite></p></li>
<li><p>tuple with three items if <a href="#id1"><span class="problematic" id="id2">`</span></a>return_array is True –</p>
<ul>
<li><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>Numpy masked array of extracted raster values, typically 2d.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>1d numpy masked array of labelled sampled.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>2d numpy masked array of row and column indexes of training
pixels.</p>
</dd>
</dl>
</li>
</ul>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.extract_vector">
<code class="sig-name descname">extract_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gdf</span></em>, <em class="sig-param"><span class="n">return_array</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.extract_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a Raster/RasterLayer using a geopandas GeoDataframe
containing points, lines or polygon features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>geopandas.GeoDataFrame</em>) – Containing either point, line or polygon geometries. Overlapping
geometries will cause the same pixels to be sampled.</p></li>
<li><p><strong>return_array</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=False</em>) – By default the extracted pixel values are returned as a
geopandas.GeoDataFrame. If <cite>return_array=True</cite> then the extracted
pixel values are returned as a tuple of numpy.ndarrays.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=False</em>) – Show a progress bar for extraction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><em>geopandas.GeoDataframe</em> – Containing extracted data as point geometries (one point per pixel)
if <cite>return_array=False</cite>. The resulting GeoDataFrame is indexed
using a named pandas.MultiIndex, with <cite>pixel_idx</cite> index referring
to the index of each pixel that was sampled, and the <cite>geometry_idx</cite>
index referring to the index of the each geometry in the supplied
<cite>gdf</cite>. This makes it possible to keep track of how sampled pixel
relates to the original geometries, i.e. multiple pixels being
extracted within the area of a single polygon that can be referred
to using the <cite>geometry_idx</cite>.</p>
<p>The extracted data can subsequently be joined with the attribute
table of the supplied <cite>gdf</cite> using:</p>
<p>training_py = geopandas.read_file(nc.polygons)
df = self.stack.extract_vector(gdf=training_py)
df = df.dropna()</p>
<dl class="simple">
<dt>df = df.merge(</dt><dd><p>right=training_py.loc[:, (“id”, “label”)],
left_on=”polygon_idx”,
right_on=”id”,
right_index=True</p>
</dd>
</dl>
<p>)</p>
</li>
<li><p><em>tuple</em> – A tuple (geodataframe index, extracted values, coordinates) of the
extracted raster values as a masked array and the  coordinates of
the extracted pixels if <cite>as_gdf=False</cite>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.extract_xy">
<code class="sig-name descname">extract_xy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xys</span></em>, <em class="sig-param"><span class="n">return_array</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.extract_xy" title="Permalink to this definition">¶</a></dt>
<dd><p>Samples pixel values using an array of xy locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xys</strong> (<em>2d array-like</em>) – x and y coordinates from which to sample the raster
(n_samples, xys).</p></li>
<li><p><strong>return_array</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=False</em>) – By default the extracted pixel values are returned as a
geopandas.GeoDataFrame. If <cite>return_array=True</cite> then the extracted
pixel values are returned as a tuple of numpy.ndarrays.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=False</em>) – Show a progress bar for extraction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>geopandas.GeoDataframe</em> – Containing extracted data as point geometries if
<cite>return_array=False</cite>.</p></li>
<li><p><em>numpy.ndarray</em> – 2d masked array containing sampled raster values (sample, bands) at
the x,y locations.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.intersect">
<code class="sig-name descname">intersect</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a intersect operation on the Raster object.</p>
<p>Computes the geometric intersection of the RasterLayers with the Raster
object. This will cause nodata values in any of the rasters to be
propagated through all of the output rasters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – File path to save to resulting Raster. If not supplied then the
resulting Raster is saved to a temporary file.</p></li>
<li><p><strong>in_memory</strong> (<em>bool</em><em>, </em><em>default is False</em>) – Whether to initiated the Raster from an array and store the data
in-memory using Rasterio’s in-memory files.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then
the new intersected Raster is created using the dtype of the
existing Raster dataset, which uses a dtype that can accommodate
the data types of all of the individual RasterLayers.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value
is set based on the minimum permissible value of the Raster’s data
type. Note that this changes the values of the pixels that
represent nodata to the new value.</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster with layers that are masked based on a union of all masks in
the suite of RasterLayers.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.mask">
<code class="sig-name descname">mask</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em>, <em class="sig-param"><span class="n">invert</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">crop</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pad</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask a Raster object based on the outline of shapes in a
geopandas.GeoDataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shapes</strong> (<em>geopandas.GeoDataFrame</em>) – GeoDataFrame containing masking features.</p></li>
<li><p><strong>invert</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – If False then pixels outside shapes will be masked. If True then
pixels inside shape will be masked.</p></li>
<li><p><strong>crop</strong> (<em>bool</em><em> (</em><em>default True</em><em>)</em>) – Crop the raster to the extent of the shapes.</p></li>
<li><p><strong>pad</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – If True, the features will be padded in each direction by one half
of a pixel prior to cropping raster.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – File path to save to resulting Raster. If not supplied then the
resulting Raster is saved to a temporary file</p></li>
<li><p><strong>in_memory</strong> (<em>bool</em><em>, </em><em>default is False</em>) – Whether to initiated the Raster from an array and store the data
in-memory using Rasterio’s in-memory files.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then
the cropped Raster is created using the existing dtype, which uses
a dtype that can accommodate the data types of all of the
individual RasterLayers.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for cropped dataset. If not specified then a nodata
value is set based on the minimum permissible value of the Raster’s
data type. Note that this changes the values of the pixels to the
new nodata value, and changes the metadata of the raster.</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">estimator</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_jobs</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply prediction of a scikit learn model to a Raster.</p>
<p>The model can represent any scikit learn model or compatible api with a
<cite>fit</cite> and <cite>predict</cite> method. These can consist of classification or
regression models. Multi-class classifications and multi-target
regressions are also supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>estimator</strong> (<em>estimator object implementing 'fit'</em>) – The object to use to fit the data.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Path to a GeoTiff raster for the prediction results. If not
specified then the output is written to a temporary file.</p></li>
<li><p><strong>in_memory</strong> (<em>bool</em><em>, </em><em>default is False</em>) – Whether to initiated the Raster from an array and store the data
in-memory using Rasterio’s in-memory files.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optionally specify a GDAL compatible data type when saving to file.
If not specified, np.float32 is assumed.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for file export. If not specified then the nodata
value is derived from the minimum permissible value for the given
data type.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em> (</em><em>default 1</em><em>)</em>) – Number of processing cores to use for parallel execution. Default
is n_jobs=1. -1 is all cores; -2 is all cores -1.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Show progress bar for prediction.</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster object containing prediction results as a RasterLayers. For
classification and regression models, the Raster will contain a
single RasterLayer, unless the model is multi-class or
multi-target. Layers are named automatically as <cite>pred_raw_n</cite> with
n = 1, 2, 3 ..n.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.predict_proba">
<code class="sig-name descname">predict_proba</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">estimator</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">indexes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">n_jobs</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply class probability prediction of a scikit learn model to a
Raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>estimator</strong> (<em>estimator object implementing 'fit'</em>) – The object to use to fit the data.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Path to a GeoTiff raster for the prediction results. If not
specified then the output is written to a temporary file.</p></li>
<li><p><strong>in_memory</strong> (<em>bool</em><em>, </em><em>default is False</em>) – Whether to initiated the Raster from an array and store the data
in-memory using Rasterio’s in-memory files.</p></li>
<li><p><strong>indexes</strong> (<em>list of integers</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – List of class indices to export. In some circumstances, only a
subset of the class probability estimations are desired, for
instance when performing a binary classification only the
probabilities for the positive class may be desired.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optionally specify a GDAL compatible data type when saving to file.
If not specified, a data type is set based on the data type of the
prediction.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for file export. If not specified then the nodata
value is derived from the minimum permissible value for the given
data type.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em> (</em><em>default 1</em><em>)</em>) – Number of processing cores to use for parallel execution. Default
is n_jobs=1. -1 is all cores; -2 is all cores -1.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Show progress bar for prediction.</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Raster containing predicted class probabilities. Each predicted
class is represented by a RasterLayer object. The RasterLayers are
named <cite>prob_n</cite> for 1,2,3..n, with <cite>n</cite> based on the index position
of the classes, not the number of the class itself.</p>
<p>For example, a classification model predicting classes with integer
values of 1, 3, and 5 would result in three RasterLayers named
‘prob_1’, ‘prob_2’ and ‘prob_3’.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">masked</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">window</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">out_shape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">resampling</span><span class="o">=</span><span class="default_value">'nearest'</span></em>, <em class="sig-param"><span class="n">as_df</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads data from the Raster object into a numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>masked</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Read data into a masked array.</p></li>
<li><p><strong>window</strong> (<em>rasterio.window.Window object</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Tuple of col_off, row_off, width, height of a window of data to
read a chunk of data into a ndarray.</p></li>
<li><p><strong>out_shape</strong> (<em>tuple</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Shape of shape of array (rows, cols) to read data into using
decimated reads.</p></li>
<li><p><strong>resampling</strong> (<em>str</em><em> (</em><em>default 'nearest'</em><em>)</em>) – Resampling method to use when applying decimated reads when
out_shape is specified. Supported methods are: ‘average’,
‘bilinear’, ‘cubic’, ‘cubic_spline’, ‘gauss’, ‘lanczos’, ‘max’,
‘med’, ‘min’, ‘mode’, ‘q1’, ‘q3’.</p></li>
<li><p><strong>as_df</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Whether to return the data as a pandas.DataFrame with columns
named by the RasterLayer names.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Other arguments to pass to rasterio.DatasetReader.read method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster values in 3d ndarray  with the dimensions in order of
(band, row, and column).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.rename">
<code class="sig-name descname">rename</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names</span></em>, <em class="sig-param"><span class="n">in_place</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a RasterLayer within the Raster object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>names</strong> (<em>dict</em>) – dict of old_name : new_name</p></li>
<li><p><strong>in_place</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Whether to change names of the Raster object in-place or leave
original and return a new Raster object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returned only if <cite>in_place</cite> is False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">strata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_array</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">random_state</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a random sample of according to size, and samples the
pixel values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>int</em>) – Number of random samples or number of samples per strata if
strategy=’stratified’.</p></li>
<li><p><strong>strata</strong> (<em>rasterio DatasetReader</em><em> (</em><em>opt</em><em>)</em>) – Whether to use stratified instead of random sampling. Strata can be
supplied using an open rasterio DatasetReader object.</p></li>
<li><p><strong>return_array</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=False</em>) – Optionally return extracted data as separate X, y and xy masked
numpy arrays.</p></li>
<li><p><strong>random_state</strong> (<em>int</em><em> (</em><em>opt</em><em>)</em>) – integer to use within random.seed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A tuple containing two elements:</p>
<ul class="simple">
<li><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>Numpy array of extracted raster values, typically 2d.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>2D numpy array of xy coordinates of extracted values.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.to_crs">
<code class="sig-name descname">to_crs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">crs</span></em>, <em class="sig-param"><span class="n">resampling</span><span class="o">=</span><span class="default_value">'nearest'</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_jobs</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">warp_mem_lim</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.to_crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Reprojects a Raster object to a different crs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crs</strong> (<em>rasterio.transform.CRS object</em><em>, or </em><em>dict</em>) – Example: CRS({‘init’: ‘EPSG:4326’})</p></li>
<li><p><strong>resampling</strong> (<em>str</em><em> (</em><em>default 'nearest'</em><em>)</em>) – Resampling method to use.  One of the following:
nearest,
bilinear,
cubic,
cubic_spline,
lanczos,
average,
mode,
max (GDAL &gt;= 2.2),
min (GDAL &gt;= 2.2),
med (GDAL &gt;= 2.2),
q1 (GDAL &gt;= 2.2),
q3 (GDAL &gt;= 2.2)</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optional path to save reprojected Raster object. If not specified
then a tempfile is used.</p></li>
<li><p><strong>in_memory</strong> (<em>bool</em><em>, </em><em>default is False</em>) – Whether to initiated the Raster from an array and store the data
in-memory using Rasterio’s in-memory files.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then the existing
nodata value of the Raster object is used, which can accommodate
the dtypes of the individual layers in the Raster.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em> (</em><em>default 1</em><em>)</em>) – The number of warp worker threads.</p></li>
<li><p><strong>warp_mem_lim</strong> (<em>int</em><em> (</em><em>default 0</em><em>)</em>) – The warp operation memory limit in MB. Larger values allow the warp
operation to be carried out in fewer chunks. The amount of memory
required to warp a 3-band uint8 2000 row x 2000 col raster to a
destination of the same size is approximately 56 MB. The default
(0) means 64 MB with GDAL 2.2.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Optionally show progress of transform operations.</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster following reprojection.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.to_pandas">
<code class="sig-name descname">to_pandas</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_pixels</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">resampling</span><span class="o">=</span><span class="default_value">'nearest'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.to_pandas" title="Permalink to this definition">¶</a></dt>
<dd><p>Raster to pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_pixels</strong> (<em>int</em><em> (</em><em>default None</em><em>)</em>) – Maximum number of pixels to sample. By default all pixels are
used.</p></li>
<li><p><strong>resampling</strong> (<em>str</em><em> (</em><em>default 'nearest'</em><em>)</em>) – Resampling method to use when applying decimated reads when
out_shape is specified. Supported methods are: ‘average’,
‘bilinear’, ‘cubic’, ‘cubic_spline’, ‘gauss’, ‘lanczos’, ‘max’,
‘med’, ‘min’, ‘mode’, ‘q1’, ‘q3’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame containing values of names of RasterLayers in the Raster
as columns, and pixel values as rows.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.raster.Raster.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the Raster object to a file.</p>
<p>Overrides the write RasterBase class method, which is a partial
function of the rasterio.DatasetReader.write method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – File path used to save the Raster object.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default is 'GTiff'</em><em>)</em><em></em>) – Name of GDAL driver used to save Raster data.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>opt</em><em>, </em><em>default None</em><em>)</em>) – Optionally specify a numpy compatible data type when saving to
file. If not specified, a data type is selected based on the data
types of RasterLayers in the Raster object.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>opt</em><em>, </em><em>default None</em><em>)</em>) – Optionally assign a new nodata value when saving to file. If not
specified a nodata value based on the minimum permissible value for
the data types of RasterLayers in the Raster object is used. Note
that this does not change the pixel nodata values of the raster,
it only changes the metadata of what value represents a nodata
pixel.</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New Raster object from saved file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspatialml.rasterlayer">
<span id="pyspatialml-rasterlayer-module"></span><h3>pyspatialml.rasterlayer module<a class="headerlink" href="#module-pyspatialml.rasterlayer" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="pyspatialml.rasterlayer.RasterLayer">
<em class="property">class </em><code class="sig-prename descclassname">pyspatialml.rasterlayer.</code><code class="sig-name descname">RasterLayer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">band</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a single raster band derived from a single or multi-band
raster dataset</p>
<p>Simple wrapper around a rasterio.Band object with additional methods. Used
because the Rasterio.Band.ds.read method reads all bands from a multi-band
dataset, whereas the RasterLayer read method only reads a single band.</p>
<p>Methods encapsulated in RasterLayer objects represent those that typically
would only be applied to a single-band of a raster, i.e. sieve-clump,
distance to non-NaN pixels, or arithmetic operations on individual layers.</p>
<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.bidx">
<code class="sig-name descname">bidx</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.bidx" title="Permalink to this definition">¶</a></dt>
<dd><p>The band index of the RasterLayer within the file dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the RasterLayer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.ds">
<code class="sig-name descname">ds</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.ds" title="Permalink to this definition">¶</a></dt>
<dd><p>The underlying rasterio.band object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>rasterio.band</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.name" title="Permalink to this definition">¶</a></dt>
<dd><p>A syntactically valid name for the RasterLayer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.file">
<code class="sig-name descname">file</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.file" title="Permalink to this definition">¶</a></dt>
<dd><p>The file path to the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.nodata">
<code class="sig-name descname">nodata</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.nodata" title="Permalink to this definition">¶</a></dt>
<dd><p>The number that is used to represent nodata pixels in the RasterLayer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>any number</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.driver">
<code class="sig-name descname">driver</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.driver" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the GDAL format driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.meta">
<code class="sig-name descname">meta</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.meta" title="Permalink to this definition">¶</a></dt>
<dd><p>A python dict storing the RasterLayer metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.transform">
<code class="sig-name descname">transform</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>The affine transform parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>affine.Affine object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.count">
<code class="sig-name descname">count</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of layers; always equal to 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.shape">
<code class="sig-name descname">shape</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of RasterLayer in (rows, columns)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">width, height</code></dt>
<dd><p>The width (cols) and height (rows) of the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.bounds">
<code class="sig-name descname">bounds</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>A named tuple with left, bottom, right and top coordinates of the
dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>BoundingBox named tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.cmap">
<code class="sig-name descname">cmap</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.cmap" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of matplotlib map, or a custom
matplotlib.cm.LinearSegmentedColormap or ListedColormap object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyspatialml.rasterlayer.RasterLayer.norm">
<code class="sig-name descname">norm</code><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>A matplotlib.colors.Normalize to apply to the RasterLayer.
This overides the norm attribute of the RasterLayer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>matplotlib.colors.Normalize (opt)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.rasterlayer.RasterLayer.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyspatialml.rasterlayer.RasterLayer.max">
<code class="sig-name descname">max</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_pixels</span><span class="o">=</span><span class="default_value">10000</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_pixels</strong> (<em>int</em>) – Number of pixels used to inform statistical estimate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The maximum value of the object’s pixels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.float32</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.rasterlayer.RasterLayer.mean">
<code class="sig-name descname">mean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_pixels</span><span class="o">=</span><span class="default_value">10000</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_pixels</strong> (<em>int</em>) – Number of pixels used to inform statistical estimate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The mean value of the object’s pixels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.float32</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.rasterlayer.RasterLayer.median">
<code class="sig-name descname">median</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_pixels</span><span class="o">=</span><span class="default_value">10000</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.median" title="Permalink to this definition">¶</a></dt>
<dd><p>Median value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_pixels</strong> (<em>int</em>) – Number of pixels used to inform statistical estimate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The medium value of the object’s pixels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.float32</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.rasterlayer.RasterLayer.min">
<code class="sig-name descname">min</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_pixels</span><span class="o">=</span><span class="default_value">10000</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_pixels</strong> (<em>int</em>) – Number of pixels used to inform statistical estimate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The minimum value of the object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.float32</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.rasterlayer.RasterLayer.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">norm</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">out_shape</span><span class="o">=</span><span class="default_value">(100, 100)</span></em>, <em class="sig-param"><span class="n">categorical</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">vmin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vmax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fig_kwds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">legend_kwds</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a RasterLayer using matplotlib.pyplot.imshow
:param cmap: The name of a colormap recognized by matplotlib.</p>
<blockquote>
<div><p>Overrides the cmap attribute of the RasterLayer.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>norm</strong> (<em>matplotlib.colors.Normalize</em><em> (</em><em>opt</em><em>)</em>) – A matplotlib.colors.Normalize to apply to the RasterLayer.
This overrides the norm attribute of the RasterLayer.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.Artist</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – axes instance on which to draw to plot.</p></li>
<li><p><strong>cax</strong> (<em>matplotlib.pyplot.Artist</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – axes on which to draw the legend.</p></li>
<li><p><strong>figsize</strong> (<em>tuple of integers</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Size of the matplotlib.figure.Figure. If the ax argument is given
explicitly, figsize is ignored.</p></li>
<li><p><strong>out_shape</strong> (<em>tuple</em><em>, </em><em>default=</em><em>(</em><em>100</em><em>, </em><em>100</em><em>)</em>) – Number of rows, cols to read from the raster datasets for plotting.</p></li>
<li><p><strong>categorical</strong> (<em>bool</em><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True then the raster values will be considered to represent
discrete values, otherwise they are considered to represent
continuous values. This overrides the  RasterLayer ‘categorical’
attribute. Setting the argument categorical to True is ignored if
the RasterLayer.categorical is already True.</p></li>
<li><p><strong>legend</strong> (<em>bool</em><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – Whether to plot the legend.</p></li>
<li><p><strong>vmin</strong> (<em>scale</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – vmin and vmax define the data range that the colormap covers. By
default, the colormap covers the complete value range of the
supplied data. vmin, vmax are ignored if the norm parameter is
used.</p></li>
<li><p><strong>xmax</strong> (<em>scale</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – vmin and vmax define the data range that the colormap covers. By
default, the colormap covers the complete value range of the
supplied data. vmin, vmax are ignored if the norm parameter is
used.</p></li>
<li><p><strong>fig_kwds</strong> (<em>dict</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Additional arguments to pass to the matplotlib.pyplot.figure call
when creating the figure object. Ignored if ax is passed to the
plot function.</p></li>
<li><p><strong>legend_kwds</strong> (<em>dict</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Keyword arguments to pass to matplotlib.pyplot.colorbar().</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib axes instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.rasterlayer.RasterLayer.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read method for a single RasterLayer.</p>
<p>Reads the pixel values from a RasterLayer into a ndarray that always
will have two dimensions in the order of (rows, columns).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>**kwargs</strong> (<em>named arguments that can be passed to the the</em>) – </p></li>
<li><p><strong>method.</strong> (<em>rasterio.DatasetReader.read</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.rasterlayer.RasterLayer.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">'GTiff'</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write method for a single RasterLayer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>opt</em><em>)</em>) – File path to save the dataset.</p></li>
<li><p><strong>driver</strong> (<em>str</em>) – GDAL-compatible driver used for the file format.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>opt</em><em>)</em>) – Numpy dtype used for the file. If omitted then the RasterLayer’s
dtype is used.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>opt</em><em>)</em>) – A value used to represent the nodata pixels. If omitted then the
RasterLayer’s nodata value is used (if assigned already).</p></li>
<li><p><strong>kwargs</strong> (<em>opt</em>) – Optional named arguments to pass to the format drivers. For example
can be <cite>compress=”deflate”</cite> to add compression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.RasterLayer</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspatialml.transformers">
<span id="pyspatialml-transformers-module"></span><h3>pyspatialml.transformers module<a class="headerlink" href="#module-pyspatialml.transformers" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="pyspatialml.transformers.GeoDistTransformer">
<em class="property">class </em><code class="sig-prename descclassname">pyspatialml.transformers.</code><code class="sig-name descname">GeoDistTransformer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">refs</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.transformers.GeoDistTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Transformer to add new features based on geographical distances to
reference locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>refs</strong> (<em>ndarray</em>) – <p>Array of coordinates of reference locations in (m, n-dimensional)
order, such as {n_locations, x_coordinates, y_coordinates, …}
for as many dimensions as required. For example to calculate distances
to a single x,y,z location:</p>
<p>refs = [-57.345, -110.134, 1012]</p>
<p>And to calculate distances to three x,y reference locations:</p>
<dl class="simple">
<dt>refs = [</dt><dd><p>[-57.345, -110.134],
[-56.345, -109.123],
[-58.534, -112.123]</p>
</dd>
</dl>
<p>]</p>
<p>The supplied array has to have at least x,y coordinates with a
(1, 2) shape for a single location.</p>
</p></li>
<li><p><strong>log</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em>, </em><em>default=False</em>) – Optionally log-transform the distance measures.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X_new</strong> – Array of shape (n_samples, n_features) with new geodistance features
appended to the right-most columns of the array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<dl class="py method">
<dt id="pyspatialml.transformers.GeoDistTransformer.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.transformers.GeoDistTransformer.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyspatialml.transformers.GeoDistTransformer.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.transformers.GeoDistTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pyspatialml.transformers.KNNTransformer">
<em class="property">class </em><code class="sig-prename descclassname">pyspatialml.transformers.</code><code class="sig-name descname">KNNTransformer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_neighbors</span><span class="o">=</span><span class="default_value">7</span></em>, <em class="sig-param"><span class="n">weights</span><span class="o">=</span><span class="default_value">'distance'</span></em>, <em class="sig-param"><span class="n">measure</span><span class="o">=</span><span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">radius</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">algorithm</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">leaf_size</span><span class="o">=</span><span class="default_value">30</span></em>, <em class="sig-param"><span class="n">metric</span><span class="o">=</span><span class="default_value">'minkowski'</span></em>, <em class="sig-param"><span class="n">p</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">metric_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kernel_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_jobs</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.transformers.KNNTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Transformer to generate new lag features by weighted aggregation of
K-neighboring observations.</p>
<p>A lag transformer uses a weighted mean/mode of the values of the
K-neighboring observations to generate new lagged features. The weighted
mean/mode of the surrounding observations are appended as a new feature to
the right-most column in the training data.</p>
<p>The K-neighboring observations are determined using the distance metric
specified in the <cite>metric</cite> argument. The default metric is minkowski, and
with p=2 is equivalent to the standard Euclidean metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_neighbors</strong> (<em>int</em><em>, </em><em>default = 7</em>) – Number of neighbors to use by default for kneighbors queries.</p></li>
<li><p><strong>weights</strong> (<em>{‘uniform’</em><em>, </em><em>‘distance’}</em><em> or </em><em>callable</em><em>, </em><em>default=’distance’</em>) – <p>Weight function used in prediction. Possible values:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>‘uniform’<span class="classifier">uniform weights. All points in each neighborhood are</span></dt><dd><p>weighted equally.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‘distance’<span class="classifier">weight points by the inverse of their distance. In</span></dt><dd><p>this case, closer neighbors of a query point will have a
greater influence than neighbors which are further away.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>[callable]<span class="classifier">a user-defined function which accepts an array of</span></dt><dd><p>distances, and returns an array of the same shape containing
the weights.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>measure</strong> (<em>{'mean'</em><em>, </em><em>'mode'}</em>) – Function that is used to apply the weights to <cite>y</cite>. Use ‘mean’ if the
target variable is continuous and ‘mode’ if the target variable is
discrete.</p></li>
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>default=1.0</em>) – Range of parameter space to use by default for radius_neighbors
queries.</p></li>
<li><p><strong>algorithm</strong> (<em>{‘auto’</em><em>, </em><em>‘ball_tree’</em><em>, </em><em>‘kd_tree’</em><em>, </em><em>‘brute’}</em><em>, </em><em>default=’auto’</em>) – <p>Algorithm used to compute the nearest neighbors:</p>
<blockquote>
<div><ul>
<li><p>‘ball_tree’ will use BallTree</p></li>
<li><p>‘kd_tree’ will use KDTree</p></li>
<li><p>‘brute’ will use a brute-force search.</p></li>
<li><dl class="simple">
<dt>‘auto’ will attempt to decide the most appropriate algorithm</dt><dd><p>based on the values passed to fit method.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Note: fitting on sparse input will override the setting of this</dt><dd><p>parameter, using brute force.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>leaf_size</strong> (<em>int</em><em>, </em><em>default=30</em>) – Leaf size passed to BallTree or KDTree. This can affect the speed of
the construction and query, as well as the memory required to store the
tree. The optimal value depends on the nature of the problem.</p></li>
<li><p><strong>metric</strong> (<em>str</em><em> or </em><em>callable</em><em>, </em><em>default=’minkowski’</em>) – The distance metric to use for the tree. The default metric is
minkowski, and with p=2 is equivalent to the standard Euclidean metric.
See the documentation of DistanceMetric for a list of available
metrics. If metric is “precomputed”, X is assumed to be a distance
matrix and must be square during fit. X may be a sparse graph, in which
case only “nonzero” elements may be considered neighbors.</p></li>
<li><p><strong>p</strong> (<em>int</em><em>, </em><em>default=2</em>) – Parameter for the Minkowski metric from
sklearn.metrics.pairwise.pairwise_distances. When p = 1, this is
equivalent to using manhattan_distance (l1), and euclidean_distance
(l2) for p = 2. For arbitrary p, minkowski_distance (l_p) is used.</p></li>
<li><p><strong>normalize</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Whether to standardize the inputs using
sklearn.preprocessing.Normalizer</p></li>
<li><p><strong>metric_params</strong> (<em>dict</em><em>, </em><em>default=None</em>) – Additional keyword arguments for the metric function.</p></li>
<li><p><strong>kernel_params</strong> (<em>dict</em><em>, </em><em>default=None</em>) – Additional keyword arguments to pass to a custom kernel function.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em>, </em><em>default=None</em>) – The number of parallel jobs to run for neighbors search. None means 1
unless in a joblib.parallel_backend context. -1 means using all
processors. See Glossary for more details.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pyspatialml.transformers.KNNTransformer.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.transformers.KNNTransformer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the base_estimator with features from X {n_samples, n_features}
and with an additional spatially lagged variable added to the
right-most column of the training data.</p>
<p>During fitting, the k-neighbors to each training point are used to
estimate the spatial lag component. The training point is not included
in the calculation, i.e. the training point is not considered its own
neighbor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of sample {n_samples</em><em>, </em><em>n_features} using for model</em>) – fitting The training input samples</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – The target values (class labels in classification, real numbers in
regression).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyspatialml.transformers.KNNTransformer.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.transformers.KNNTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform method for spatial lag models.</p>
<p>Augments new observations with a spatial lag variable created from a
weighted mean/mode (regression/classification) of k-neighboring
observations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of sample {n_samples</em><em>, </em><em>n_features}</em>) – New samples for the prediction.</p></li>
<li><p><strong>y</strong> (<em>None</em>) – Not used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspatialml.vector">
<span id="pyspatialml-vector-module"></span><h3>pyspatialml.vector module<a class="headerlink" href="#module-pyspatialml.vector" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="pyspatialml.vector.filter_points">
<code class="sig-prename descclassname">pyspatialml.vector.</code><code class="sig-name descname">filter_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gdf</span></em>, <em class="sig-param"><span class="n">min_dist</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">remove</span><span class="o">=</span><span class="default_value">'first'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.vector.filter_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter points in geodataframe using a minimum distance buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>Geopandas GeoDataFrame</em>) – Containing point geometries.</p></li>
<li><p><strong>min_dist</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em><em> (</em><em>default=0</em><em>)</em>) – Minimum distance by which to filter out closely spaced points.</p></li>
<li><p><strong>remove</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default='first'</em><em>)</em>) – Optionally choose to remove ‘first’ occurrences or ‘last’ occurrences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>xy</strong> – Numpy array filtered coordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2d array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyspatialml.vector.get_random_point_in_polygon">
<code class="sig-prename descclassname">pyspatialml.vector.</code><code class="sig-name descname">get_random_point_in_polygon</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">poly</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.vector.get_random_point_in_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates random shapely Point geometry objects within a single
shapely Polygon object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>poly</strong> (<em>Shapely Polygon object</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Shapely Point object</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="pyspatialml.datasets.html" class="btn btn-neutral float-right" title="pyspatialml.datasets package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="modules.html" class="btn btn-neutral float-left" title="pyspatialml" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Steven Pawley.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>